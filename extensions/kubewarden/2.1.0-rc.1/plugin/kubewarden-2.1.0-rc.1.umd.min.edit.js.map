{"version":3,"sources":["webpack://kubewarden-2.1.0-rc.1/./components/Policies/Create.vue?419d","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?6515","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyReadmePanel.vue","webpack://kubewarden-2.1.0-rc.1/components/Policies/PolicyReadmePanel.vue","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyReadmePanel.vue?f1a2","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyReadmePanel.vue?c000","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Create.vue?44c5","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyTable.vue?6526","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.admissionpolicy.vue?75c4","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyTable.vue?412b","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyReadmePanel.vue?443c","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyReadmePanel.vue?e6dd","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-2.1.0-rc.1/edit/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.admissionpolicy.vue?5e19","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.admissionpolicy.vue?de37","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Values.vue?0689","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.admissionpolicy.vue?60c4","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Values.vue?906c","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Config.vue","webpack://kubewarden-2.1.0-rc.1/components/Policies/Config.vue","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Config.vue?4583","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Config.vue?8716","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyReadmePanel.vue?0636","webpack://kubewarden-2.1.0-rc.1/./components/PolicyServer/Values.vue?4987","webpack://kubewarden-2.1.0-rc.1/./components/PolicyServer/Values.vue?d551","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Create.vue?c075","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Values.vue?808d","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Create.vue","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyTable.vue","webpack://kubewarden-2.1.0-rc.1/./modules/artifacthub.ts","webpack://kubewarden-2.1.0-rc.1/./components/SortableTableWrapper.vue","webpack://kubewarden-2.1.0-rc.1/components/SortableTableWrapper.vue","webpack://kubewarden-2.1.0-rc.1/./components/SortableTableWrapper.vue?0299","webpack://kubewarden-2.1.0-rc.1/./components/SortableTableWrapper.vue?0412","webpack://kubewarden-2.1.0-rc.1/components/Policies/PolicyTable.vue","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyTable.vue?1cfe","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyTable.vue?bde5","webpack://kubewarden-2.1.0-rc.1/components/Policies/Create.vue","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Create.vue?487c","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Create.vue?811f","webpack://kubewarden-2.1.0-rc.1/./components/PolicyServer/Values.vue?bae2","webpack://kubewarden-2.1.0-rc.1/./utils/object.ts","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-2.1.0-rc.1/./components/PolicyServer/Values.vue","webpack://kubewarden-2.1.0-rc.1/components/PolicyServer/Values.vue","webpack://kubewarden-2.1.0-rc.1/./components/PolicyServer/Values.vue?c5ec","webpack://kubewarden-2.1.0-rc.1/./components/PolicyServer/Values.vue?1366","webpack://kubewarden-2.1.0-rc.1/edit/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.policyserver.vue?8e6e","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.policyserver.vue?81e9","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Values.vue","webpack://kubewarden-2.1.0-rc.1/components/Policies/Values.vue","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Values.vue?ee97","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Values.vue?7016","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-2.1.0-rc.1/edit/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?9a87","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?b2d2","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?22fe","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Config.vue?cf85","webpack://kubewarden-2.1.0-rc.1/./components/Policies/PolicyTable.vue?c0d2","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.admissionpolicy.vue?0b24","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Config.vue?fbcb","webpack://kubewarden-2.1.0-rc.1/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?a595","webpack://kubewarden-2.1.0-rc.1/./components/Policies/Config.vue?7d26"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","render","_vm","this","_c","_self","staticClass","style","showSlideIn","attrs","on","$event","hide","_e","class","packageValues","_v","_s","t","display_name","staticRenderFns","props","type","Object","required","components","ChartReadme","data","info","undefined","infoVersion","versionInfo","versionError","headerBannerSize","computed","mapGetters","theme","applyDarkModeBg","methods","show","component","content","__esModule","default","locals","add","isCreate","value","mode","realMode","finish","updateYamlValuesFromEdit","name","String","_EDIT","CruResource","Config","Create","mixins","CreateEditView","provide","chartType","_CREATE","event","removeEmptyAttrs","save","e","handleGrowl","error","store","$store","val","parsed","jsyaml","load","assign","$fetchState","pending","shortDescription","policyReadme","showReadme","chartValues","yamlValues","$emit","ref","artifactHubPackage","_VIEW","Loading","Values","PolicyReadmePanel","_this$value","policy","questions","metadata","annotations","ARTIFACTHUB_PKG_ANNOTATION","ahPackage","artifactHubPackageVersion","_ahPackage$data","description","readme","JSON","parse","stringify","DATA_ANNOTATIONS","QUESTIONS","_this$chartValues$pol","defaultPolicy","structuredClone","DEFAULT_POLICY","merged","merge","spec","settings","set","policyQuestions","parsePackageMetadata","console","warn","saferDump","$refs","readmePanel","hideArtifactHubBanner","closeBanner","directives","rawName","expression","addArtifactHub","hideAirgapBanner","loadingPackages","errors","steps","reset","done","scopedSlots","_u","key","fn","packages","selectType","proxy","bannerTitle","customPolicy","yamlOption","canFinish","model","callback","$$v","attributeOptions","length","handleAttributeSelect","attributes","searchQuery","refresh","showKubewardenOfficial","filteredSubtypes","POLICY_TABLE_HEADERS","row","resourcesFromAnnotation","artifactHubPackages","_resources$flatMap","out","resources","flatMap","_artifactHubPackage$d","annotation","resource","split","forEach","s","trim","sort","Set","filter","Boolean","isGlobalPolicy","schemas","_artifactHubPackage$d2","targetsNonNamespaced","some","schema","_schema$attributes","_schema$attributes2","kind","namespaced","rows","headers","tableActions","rowActions","keyField","defaultSortBy","paging","search","Array","SortableTable","listeners","watch","addRowClickListener","mounted","$nextTick","_this$$refs$sortableT","table","sortableTable","$el","querySelector","removeRowClickListener","querySelectorAll","index","listener","addEventListener","_this$listeners","removeEventListener","inject","Checkbox","LabeledSelect","LabeledInput","SortableTableWrapper","fetch","query","$route","category","CATEGORY","SEARCH_QUERY","KUBEWARDEN_PRODUCT_NAME","hidePackages","allSchemas","getters","SCHEMA","filteredPackages","isPreRelease","isPrerelease","showPreRelease","KUBEWARDEN","ADMISSION_POLICY","subtypes","subtype","isOfficial","searchTokens","map","x","ensureRegex","matchesSearch","every","token","_subtype$display_name","_subtype$keywords","match","keywords","keyword","includes","matchesAttributes","attribute","_subtype$data2","isFeature","featureOptions","_subtype$data","normalizedAttribute","sortBy","resourceOptions","label","unshift","featuresList","_subtype$data3","_subtype$data4","keywordOptions","_this$filteredPackage","flattened","organizationOptions","_this$filteredPackage2","_subtype$repository","_subtype$repository2","repository","organization_display_name","user_alias","SHOW_PRE_RELEASE","hasAnnotation","_subtype$data5","_subtype$data6","semver","prerelease","version","_subtype$repository3","organization_name","toLowerCase","selected","allOption","indexOf","attr","AsyncButton","Banner","Wizard","PolicyTable","_this$schema","_this$schema2","_this$schema3","hasArtifactHub","getPackages","apiVersion","group","typeModule","hasCustomPolicy","VALUES_STATE","FORM","finishAttempts","stepPolicies","hidden","ready","showSteps","weight","stepValues","isAirgap","isSelected","_this$chartValues","YAML","hasRequired","artifactHubWhitelist","_this$chartValues2","isEmpty","_this$chartValues3","rules","requiredRules","acceptedRules","acceptedValues","requiredQuestions","q","variable","acceptedQuestions","_this$type","_this$packages","url","find","p","_p$repository","a","b","requiredProp","requiredKeys","accepted","isArray","prop","checkProperties","values","isEqual","banner","retry","res","dispatch","status","close","ns","allNamespaces","NAMESPACE","nsTemplate","disableOpenApiValidation","existing","n","_n$metadata","nsResource","btnCb","updateWhitelist","_this$schema4","$router","replace","params","cluster","product","id","_this$chartValues5","_this$chartValues4","keys","$delete","$set","isNamespaceNew","createNamespace","namespace","attemptSave","Error","artifactHubRepo","promises","pkg","packageDetails","Promise","all","_pkg$data","_policyDetails$data","_policyDetails$reposi","updatedCustomPolicy","contextAwareResources","policyDetails","_pkg$repository","_this$type2","packageQuestions","packageAnnotation","parseAnnotation","obj","_policyDetails$data2","determineAnnotation","_policyDetails$data3","updatedPolicy","containers_images","image","CONTEXT_AWARE","RULES","mutating","MUTATION","_event$step","step","initialState","_this$chartValues6","wizard","next","isObject","doneRoute","validationPassed","handleValidationPassed","isEdit","YAML_OPTIONS","showForm","tabChanged","valuesComponent","tag","originalYamlValues","editorMode","updateYamlValues","currentYamlValues","preYamlOption","ButtonGroup","ResourceCancelModal","Tabbed","YamlEditor","valuesYaml","generateYaml","loadValuesComponent","configValues","showQuestions","showValuesComponent","neu","old","EDITOR_MODES","EDIT_CODE","yaml","createYaml","lines","filteredLines","line","modifiedYAML","join","haveComponent","importComponent","window","scrollTop","POLICY_SERVER","fetchResourceFields","created","DEFAULT_POLICY_SERVER","securityContexts","seccompProfile","repoType","repoName","chartName","KUBEWARDEN_CHARTS","CONTROLLER","namespaceSelector","matchExpressions","RANCHER_NS_MATCH_EXPRESSION","_this$yamlValues","cloned","_this$value2","_this$value3","isClone","_CLONE","isKubewardenDefaultPolicy","labels"],"mappings":"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","file":"kubewarden-2.1.0-rc.1.umd.min.edit.js","sourcesContent":["export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=style&index=0&id=6968a27a&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-1f3d98fa] .cru__footer{z-index:1}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"policy-info-panel\",style:(`--banner-top-offset: 0px`)},[(_vm.showSlideIn)?_c('div',{staticClass:\"glass\",attrs:{\"data-testid\":\"extension-details-bg\"},on:{\"click\":function($event){return _vm.hide()}}}):_vm._e(),_c('div',{staticClass:\"slideIn\",class:{'hide': false, 'slideIn__show': _vm.showSlideIn},attrs:{\"data-testid\":\"extension-details\"}},[_c('div',{staticClass:\"slideIn__header\"},[(_vm.packageValues)?_c('div',{staticClass:\"policy-info-content\"},[_c('div',{staticClass:\"policy-header pb-10\"},[_c('div',{staticClass:\"slideIn__header__buttons\"},[_c('button',{staticClass:\"btn btn-sm role-link\",on:{\"click\":_vm.hide}},[_c('span',[_vm._v(_vm._s(_vm.t('generic.close')))]),_c('i',{staticClass:\"icon icon-chevron-right\"})])])]),_c('div',{staticClass:\"policy-title mt-20\"},[_c('h2',{staticClass:\"policy-info-title\"},[_vm._v(\" \"+_vm._s(_vm.packageValues.display_name)+\" \")])]),_c('ChartReadme',{staticClass:\"mt-20\",attrs:{\"version-info\":_vm.packageValues}})],1):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\n\nimport ChartReadme from '@shell/components/ChartReadme';\n\nexport default {\n  props: {\n    packageValues: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  components: { ChartReadme },\n\n  data() {\n    return {\n      showSlideIn:      false,\n      info:             undefined,\n      infoVersion:      undefined,\n      versionInfo:      undefined,\n      versionError:     undefined,\n      headerBannerSize: 0,\n    };\n  },\n\n  computed: {\n    ...mapGetters({ theme: 'prefs/theme' }),\n\n    applyDarkModeBg() {\n      if (this.theme === 'dark') {\n        return { 'dark-mode': true };\n      }\n\n      return {};\n    },\n  },\n\n  methods: {\n    show() {\n      this.showSlideIn = true;\n    },\n\n    hide() {\n      this.showSlideIn = false;\n    }\n  }\n};\n</script>\n<template>\n  <div\n    class=\"policy-info-panel\"\n    :style=\"`--banner-top-offset: 0px`\"\n  >\n    <div\n      v-if=\"showSlideIn\"\n      class=\"glass\"\n      data-testid=\"extension-details-bg\"\n      @click=\"hide()\"\n    />\n    <div\n      class=\"slideIn\"\n      data-testid=\"extension-details\"\n      :class=\"{'hide': false, 'slideIn__show': showSlideIn}\"\n    >\n      <div class=\"slideIn__header\">\n        <div\n          v-if=\"packageValues\"\n          class=\"policy-info-content\"\n        >\n          <div class=\"policy-header pb-10\">\n            <div class=\"slideIn__header__buttons\">\n              <button class=\"btn btn-sm role-link\" @click=\"hide\">\n                <span>{{ t('generic.close') }}</span>\n                <i class=\"icon icon-chevron-right\" />\n              </button>\n            </div>\n          </div>\n\n          <div class=\"policy-title mt-20\">\n            <h2 class=\"policy-info-title\">\n              {{ packageValues.display_name }}\n            </h2>\n          </div>\n\n          <ChartReadme class=\"mt-20\" :version-info=\"packageValues\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n::v-deep(.btn-sm) {\n  padding: 0 7px 0 0;\n}\n\n.policy-info-panel {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  overflow-y: auto;\n\n  $slideout-width: 35%;\n  $title-height: 50px;\n  $padding: 5px;\n  $slideout-width: 45%;\n  --banner-top-offset: 0;\n  $header-height: calc(54px + var(--banner-top-offset));\n\n  .glass {\n    position: fixed;\n    top: $header-height;\n    height: calc(100% - $header-height);\n    left: 0;\n    width: 100%;\n    opacity: 0;\n    overflow-y: auto;\n  }\n\n  .slideIn {\n    border-left: var(--header-border-size) solid var(--header-border);\n    position: fixed;\n    top: $header-height;\n    right: -$slideout-width;\n    height: calc(100% - $header-height);\n    background-color: var(--topmenu-bg);\n    width: $slideout-width;\n    display: flex;\n    flex-direction: column;\n    overflow-y: auto;\n    box-shadow: -3px 0 5px rgba(0, 0, 0, 0.1);\n\n    padding: 10px;\n\n    transition: right .5s ease;\n\n    &__header {\n      text-transform: capitalize;\n    }\n\n    .policy-info-content {\n      display: flex;\n      flex-direction: column;\n      overflow-y: auto;\n    }\n\n    h3 {\n      font-size: 14px;\n      margin: 0;\n      opacity: 0.7;\n      text-transform: uppercase;\n    }\n\n    .policy-header {\n      border-bottom: 1px solid var(--border);\n      display: flex;\n      align-items: center;\n\n      .policy-title {\n        flex: 1;\n      }\n    }\n\n    &__header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      &__buttons {\n        display: flex;\n        align-items: center;\n      }\n\n      &__button {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        > i {\n          font-size: 20px;\n          opacity: 0.5;\n        }\n\n        &:hover {\n          background-color: var(--wm-closer-hover-bg);\n        }\n      }\n    }\n\n    &__show {\n      right: 0;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyReadmePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyReadmePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PolicyReadmePanel.vue?vue&type=template&id=1cec5e9c&scoped=true&\"\nimport script from \"./PolicyReadmePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./PolicyReadmePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PolicyReadmePanel.vue?vue&type=style&index=0&id=1cec5e9c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cec5e9c\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-6968a27a] .header{display:none}[data-v-6968a27a] .controls-row{position:sticky;width:auto}[data-v-6968a27a] .controls-row .controls-steps{display:flex}[data-v-6968a27a] .custom{min-height:110px}[data-v-6968a27a] .subtype{height:110px;margin:10px;position:relative;border-radius:calc(var(--border-radius)*1.5);border:1px solid var(--border);text-decoration:none!important;color:var(--body-text)!important}[data-v-6968a27a] .subtype:hover:not(.disabled){box-shadow:0 0 30px var(--shadow);transition:box-shadow .1s ease-in-out;cursor:pointer;text-decoration:none!important}[data-v-6968a27a] .subtype__metadata{padding:10px}[data-v-6968a27a] .subtype__metadata__description,[data-v-6968a27a] .subtype__metadata__label{padding-right:20px}[data-v-6968a27a] .subtype__badge{position:absolute;right:0;top:0;padding:4px 5px;border-bottom-left-radius:var(--border-radius)}[data-v-6968a27a] .subtype__badge label{font-size:12px;line-height:12px;text-align:center;display:block;white-space:no-wrap;text-overflow:ellipsis;color:var(--app-rancher-accent-text);margin:0}[data-v-6968a27a] .subtype__label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:4px;line-height:normal}[data-v-6968a27a] .subtype__description{margin-right:10px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-clamp:3;overflow:hidden;text-overflow:ellipsis;color:var(--input-label)}[data-v-6968a27a] .footer-error{margin-top:15px}.wizard[data-v-6968a27a]{position:relative;height:100%;z-index:1}.banner__title[data-v-6968a27a]{padding-top:10px;margin-bottom:10px;border-bottom:1px solid var(--border);min-height:60px}.banner__readme-button[data-v-6968a27a]{padding:0 7px 0 0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".policy-table-container[data-v-73f021fc]{display:flex;flex-direction:column;gap:1rem;padding:1rem}.policy-table-actions[data-v-73f021fc]{display:flex;justify-content:space-between;align-items:center}.filter[data-v-73f021fc]{width:100%;display:grid;grid-template-rows:1fr;grid-template-columns:repeat(2,1fr) .25fr;grid-template-areas:\\\"attributes search reset\\\";gap:1rem}.filter>*[data-v-73f021fc]{margin:.5rem 0}.filter__attributes[data-v-73f021fc]{grid-area:attributes}.filter__search[data-v-73f021fc]{grid-area:search}.filter__reset[data-v-73f021fc]{grid-area:reset}.filter__reset p[data-v-73f021fc]{line-height:1.5;white-space:wrap}[data-v-73f021fc] tr:hover{cursor:pointer}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-50366f21] .cru__footer{z-index:1}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyTable.vue?vue&type=style&index=0&id=73f021fc&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7db5bf6d\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-1cec5e9c] .btn-sm{padding:0 7px 0 0}.policy-info-panel[data-v-1cec5e9c]{position:fixed;top:0;left:0;z-index:2;overflow-y:auto;--banner-top-offset:0}.policy-info-panel .glass[data-v-1cec5e9c]{left:0;width:100%;opacity:0}.policy-info-panel .glass[data-v-1cec5e9c],.policy-info-panel .slideIn[data-v-1cec5e9c]{position:fixed;top:calc(54px + var(--banner-top-offset));height:calc(100% - 54px - var(--banner-top-offset));overflow-y:auto}.policy-info-panel .slideIn[data-v-1cec5e9c]{border-left:var(--header-border-size) solid var(--header-border);right:-45%;background-color:var(--topmenu-bg);width:45%;display:flex;flex-direction:column;box-shadow:-3px 0 5px rgba(0,0,0,.1);padding:10px;transition:right .5s ease}.policy-info-panel .slideIn__header[data-v-1cec5e9c]{text-transform:capitalize}.policy-info-panel .slideIn .policy-info-content[data-v-1cec5e9c]{display:flex;flex-direction:column;overflow-y:auto}.policy-info-panel .slideIn h3[data-v-1cec5e9c]{font-size:14px;margin:0;opacity:.7;text-transform:uppercase}.policy-info-panel .slideIn .policy-header[data-v-1cec5e9c]{border-bottom:1px solid var(--border);display:flex;align-items:center}.policy-info-panel .slideIn .policy-header .policy-title[data-v-1cec5e9c]{flex:1}.policy-info-panel .slideIn__header[data-v-1cec5e9c]{display:flex;align-items:center;justify-content:space-between}.policy-info-panel .slideIn__header__buttons[data-v-1cec5e9c]{display:flex;align-items:center}.policy-info-panel .slideIn__header__button[data-v-1cec5e9c]{cursor:pointer;display:flex;align-items:center;justify-content:center}.policy-info-panel .slideIn__header__button>i[data-v-1cec5e9c]{font-size:20px;opacity:.5}.policy-info-panel .slideIn__header__button[data-v-1cec5e9c]:hover{background-color:var(--wm-closer-hover-bg)}.policy-info-panel .slideIn__show[data-v-1cec5e9c]{right:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyReadmePanel.vue?vue&type=style&index=0&id=1cec5e9c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6c8f2915\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isCreate)?_c('Create',{attrs:{\"value\":_vm.value,\"mode\":_vm.mode}}):_c('CruResource',{attrs:{\"resource\":_vm.value,\"mode\":_vm.realMode,\"can-yaml\":false},on:{\"finish\":_vm.finish}},[_c('Config',{attrs:{\"value\":_vm.value,\"mode\":_vm.realMode},on:{\"updateYamlValues\":_vm.updateYamlValuesFromEdit}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport jsyaml from 'js-yaml';\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport CruResource from '@shell/components/CruResource';\nimport { removeEmptyAttrs } from '../utils/object';\nimport { handleGrowl } from '../utils/handle-growl';\n\nimport Config from '../components/Policies/Config';\nimport Create from '../components/Policies/Create';\n\nexport default {\n  name: 'AdmissionPolicy',\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    }\n  },\n\n  components: {\n    CruResource, Config, Create\n  },\n\n  mixins: [CreateEditView],\n\n  provide() {\n    return { chartType: this.value.type, realMode: this.realMode };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        removeEmptyAttrs(this.value);\n\n        await this.save(event);\n      } catch (e) {\n        handleGrowl({ error: e, store: this.$store });\n      }\n    },\n    // this updates the \"value\" obj for CAP's\n    // with the updated values that came from the \"edit YAML\" scenario\n    updateYamlValuesFromEdit(val) {\n      const parsed = jsyaml.load(val);\n\n      removeEmptyAttrs(parsed);\n      Object.assign(this.value, parsed);\n    }\n  }\n};\n</script>\n\n<template>\n  <Create v-if=\"isCreate\" :value=\"value\" :mode=\"mode\" />\n  <CruResource\n    v-else\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    @finish=\"finish\"\n  >\n    <Config\n      :value=\"value\"\n      :mode=\"realMode\"\n      @updateYamlValues=\"updateYamlValuesFromEdit\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n::v-deep .cru__footer {\n  z-index: 1;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=template&id=50366f21&scoped=true&\"\nimport script from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=style&index=0&id=50366f21&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50366f21\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=style&index=0&id=d467cb12&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.admissionpolicy.vue?vue&type=style&index=0&id=50366f21&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=style&index=0&id=d467cb12&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"224a7bda\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$fetchState.pending)?_c('Loading'):_c('div',[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"banner__title\"},[(_vm.shortDescription)?[_c('p',{staticClass:\"banner__short-description\"},[_vm._v(\" \"+_vm._s(_vm.shortDescription)+\" \")]),(_vm.policyReadme)?_c('button',{staticClass:\"btn btn-sm role-link banner__readme-button\",on:{\"click\":_vm.showReadme}},[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.policyConfig.description.showReadme'))+\" \")]):_vm._e()]:_vm._e()],2),_c('Values',{attrs:{\"value\":_vm.value,\"chart-values\":_vm.chartValues,\"yaml-values\":_vm.yamlValues,\"mode\":_vm.mode},on:{\"updateYamlValues\":function($event){return _vm.$emit('updateYamlValues', $event)}}})],1),(_vm.policyReadme)?[_c('PolicyReadmePanel',{ref:\"readmePanel\",attrs:{\"package-values\":_vm.artifactHubPackage}})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport merge from 'lodash/merge';\n\nimport { _VIEW } from '@shell/config/query-params';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport Loading from '@shell/components/Loading';\n\nimport { ARTIFACTHUB_PKG_ANNOTATION, DATA_ANNOTATIONS, DEFAULT_POLICY } from '../../types';\n\nimport Values from './Values.vue';\nimport PolicyReadmePanel from './PolicyReadmePanel';\n\nexport default {\n  name: 'Config',\n\n  props: {\n    mode: {\n      type:     String,\n      default:  _VIEW\n    },\n    value: {\n      type:    Object,\n      default: () => {}\n    }\n  },\n\n  components: {\n    Loading, Values, PolicyReadmePanel\n  },\n\n  async fetch() {},\n\n  async mounted() {\n    this.chartValues = {\n      policy:    this.value,\n      questions: null\n    };\n\n    if ( this.value?.metadata?.annotations?.[ARTIFACTHUB_PKG_ANNOTATION] ) {\n      try {\n        const ahPackage = await this.value.artifactHubPackageVersion();\n\n        if ( ahPackage && !ahPackage.error ) {\n          this.artifactHubPackage = ahPackage;\n\n          if ( ahPackage.description ) {\n            this.shortDescription = ahPackage.description;\n          }\n\n          if ( ahPackage.readme ) {\n            this.policyReadme = JSON.parse(JSON.stringify(ahPackage.readme));\n          }\n\n          if ( ahPackage.data?.[DATA_ANNOTATIONS.QUESTIONS] ) {\n            const defaultPolicy = structuredClone(DEFAULT_POLICY);\n\n            const merged = merge(defaultPolicy.spec.settings, this.chartValues.policy?.spec?.settings);\n\n            set(this.chartValues.policy.spec, 'settings', merged);\n\n            this.policyQuestions = this.value.parsePackageMetadata(ahPackage.data[DATA_ANNOTATIONS.QUESTIONS]);\n\n            if ( this.policyQuestions ) {\n              set(this.chartValues, 'questions', this.policyQuestions);\n            }\n          }\n        }\n      } catch (e) {\n        console.warn(`Unable to fetch artifacthub package: ${ e }`); // eslint-disable-line no-console\n      }\n    }\n\n    this.yamlValues = saferDump(this.value);\n  },\n\n  data() {\n    return {\n      artifactHubPackage: null,\n      chartValues:        null,\n      yamlValues:         '',\n      policyQuestions:    null,\n      shortDescription:   '',\n      policyReadme:       null\n    };\n  },\n\n  methods: {\n    showReadme() {\n      this.$refs.readmePanel.show();\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div class=\"content\">\n      <div class=\"banner__title\">\n        <template v-if=\"shortDescription\">\n          <p class=\"banner__short-description\">\n            {{ shortDescription }}\n          </p>\n          <button v-if=\"policyReadme\" class=\"btn btn-sm role-link banner__readme-button\" @click=\"showReadme\">\n            {{ t('kubewarden.policyConfig.description.showReadme') }}\n          </button>\n        </template>\n      </div>\n      <Values\n        :value=\"value\"\n        :chart-values=\"chartValues\"\n        :yaml-values=\"yamlValues\"\n        :mode=\"mode\"\n        @updateYamlValues=\"$emit('updateYamlValues', $event)\"\n      />\n    </div>\n\n    <template v-if=\"policyReadme\">\n      <PolicyReadmePanel\n        ref=\"readmePanel\"\n        :package-values=\"artifactHubPackage\"\n      />\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.content {\n  position: relative;\n  z-index: 1;\n}\n\n.banner {\n  &__title {\n    padding-top: 10px;\n    margin-bottom: 10px;\n    border-bottom: 1px solid var(--border);\n    min-height: 60px;\n  }\n\n  &__readme-button {\n    padding: 0 7px 0 0;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Config.vue?vue&type=template&id=29773f24&scoped=true&\"\nimport script from \"./Config.vue?vue&type=script&lang=js&\"\nexport * from \"./Config.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Config.vue?vue&type=style&index=0&id=29773f24&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29773f24\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyReadmePanel.vue?vue&type=style&index=0&id=1cec5e9c&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-5ae37dc8] .step-container{height:auto}.step__basic[data-v-5ae37dc8]{display:flex;flex-direction:column;flex:1;overflow-x:hidden}.step__basic .spacer[data-v-5ae37dc8]{line-height:2}.step__values__controls[data-v-5ae37dc8]{display:flex;margin-bottom:15px}.step__values__controls[data-v-5ae37dc8]>:not(:last-of-type){margin-right:10px}.step__values__content[data-v-5ae37dc8],.step__values__controls--spacer[data-v-5ae37dc8]{flex:1}.step__values__content[data-v-5ae37dc8] .tab-container{overflow:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=style&index=0&id=5ae37dc8&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=style&index=0&id=6968a27a&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ae69416e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".step__values__controls[data-v-d467cb12]{display:flex;margin-bottom:15px}.step__values__controls[data-v-d467cb12]>:not(:last-of-type){margin-right:10px}.step__values__content[data-v-d467cb12],.step__values__controls--spacer[data-v-d467cb12]{flex:1}.step__values__content[data-v-d467cb12] .tab-container{overflow:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$fetchState.pending)?_c('Loading',{attrs:{\"mode\":\"relative\"}}):_c('div',[(!_vm.hideArtifactHubBanner)?[_c('Banner',{staticClass:\"type-banner mb-20 mt-0\",attrs:{\"data-testid\":\"kw-policy-create-ah-banner\",\"color\":\"warning\",\"closable\":true},on:{\"close\":function($event){return _vm.closeBanner('updateHideBannerArtifactHub')}}},[_c('div',[_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.policies.noArtifactHub', {}, true)),expression:\"t('kubewarden.policies.noArtifactHub', {}, true)\"}],staticClass:\"mb-10\"}),_c('AsyncButton',{attrs:{\"mode\":\"artifactHub\"},on:{\"click\":_vm.addArtifactHub}})],1)])]:_vm._e(),(!_vm.hideAirgapBanner)?[_c('Banner',{staticClass:\"type-banner mb-20 mt-0\",attrs:{\"data-testid\":\"kw-policy-create-ag-banner\",\"color\":\"warning\",\"closable\":true,\"label\":_vm.t('kubewarden.policies.airgap.banner')},on:{\"close\":function($event){return _vm.closeBanner('updateHideBannerAirgapPolicy')}}})]:_vm._e(),(_vm.loadingPackages)?_c('Loading'):_vm._e(),(_vm.value && !_vm.loadingPackages)?_c('Wizard',{ref:\"wizard\",staticClass:\"wizard\",attrs:{\"data-testid\":\"kw-policy-create-wizard\",\"errors\":_vm.errors,\"steps\":_vm.steps,\"show-banner\":false,\"edit-first-step\":true},on:{\"next\":_vm.reset,\"cancel\":_vm.done,\"finish\":_vm.finish},scopedSlots:_vm._u([{key:\"policies\",fn:function(){return [_c('PolicyTable',{attrs:{\"data-testid\":\"kw-policy-create-table\",\"value\":_vm.packages},on:{\"selectType\":function($event){return _vm.selectType($event)}}})]},proxy:true},{key:\"values\",fn:function(){return [_c('div',{staticClass:\"banner__title\"},[_c('h2',[_vm._v(_vm._s(_vm.bannerTitle))]),(!_vm.customPolicy)?[_c('p',{staticClass:\"banner__short-description\"},[_vm._v(\" \"+_vm._s(_vm.shortDescription)+\" \")]),_c('button',{staticClass:\"btn btn-sm role-link banner__readme-button\",on:{\"click\":_vm.showReadme}},[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.policyConfig.description.showReadme'))+\" \")])]:_vm._e()],2),_c('Values',{attrs:{\"value\":_vm.value,\"chart-values\":_vm.chartValues,\"yaml-values\":_vm.yamlValues,\"mode\":_vm.mode,\"custom-policy\":_vm.customPolicy},on:{\"editor\":$event => _vm.yamlOption = $event,\"updateYamlValues\":$event => _vm.yamlValues = $event}})]},proxy:true},{key:\"finish\",fn:function(){return [_c('AsyncButton',{attrs:{\"data-testid\":\"kw-policy-create-finish-button\",\"disabled\":!_vm.canFinish,\"mode\":\"finish\"},on:{\"click\":_vm.finish}})]},proxy:true}],null,false,3245187313),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}):_vm._e(),(_vm.packageValues && !_vm.customPolicy)?[_c('PolicyReadmePanel',{ref:\"readmePanel\",attrs:{\"package-values\":_vm.packageValues}})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"policy-table-container\"},[_c('div',{staticClass:\"filter\"},[(_vm.attributeOptions.length)?_c('LabeledSelect',{staticClass:\"filter__attributes\",attrs:{\"data-testid\":\"kw-table-filter-source\",\"clearable\":true,\"taggable\":true,\"mode\":_vm.mode,\"multiple\":true,\"label-key\":\"kubewarden.utils.attributes.label\",\"options\":_vm.attributeOptions},on:{\"selecting\":e => _vm.handleAttributeSelect(e)},model:{value:(_vm.attributes),callback:function ($$v) {_vm.attributes=$$v},expression:\"attributes\"}}):_vm._e(),_c('LabeledInput',{ref:\"searchQuery\",staticClass:\"input-sm filter__search\",attrs:{\"data-testid\":\"kw-table-filter-search\",\"mode\":_vm.mode,\"label\":_vm.t('kubewarden.utils.search'),\"placeholder\":_vm.t('kubewarden.generic.name')},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}}),_c('button',{ref:\"btn\",staticClass:\"btn role-tertiary filter__reset\",attrs:{\"data-testid\":\"kw-table-filter-refresh\",\"type\":\"button\"},on:{\"click\":_vm.refresh}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.utils.resetFilter'))+\" \")])])],1),_c('div',{staticClass:\"policy-table-actions\"},[_c('Checkbox',{attrs:{\"label\":_vm.t('kubewarden.utils.official.label'),\"data-testid\":\"kw-table-filter-official\"},model:{value:(_vm.showKubewardenOfficial),callback:function ($$v) {_vm.showKubewardenOfficial=$$v},expression:\"showKubewardenOfficial\"}}),_c('button',{ref:\"btn\",staticClass:\"btn role-tertiary\",attrs:{\"data-testid\":\"kw-table-custom-buttom\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('selectType', 'custom')}}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.utils.custom.create'))+\" \")])])],1),_c('SortableTableWrapper',{attrs:{\"rows\":_vm.filteredSubtypes,\"headers\":_vm.POLICY_TABLE_HEADERS,\"table-actions\":false,\"row-actions\":false,\"key-field\":\"package_id\",\"default-sort-by\":\"name\",\"paging\":true,\"search\":false},on:{\"selectRow\":(row) => _vm.$emit('selectType', row)}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ArtifactHubPackage } from '../types';\n\n/**\n * Extracts resource kinds from a list of ArtifactHub packages with the `kubewarden/resources` annotation.\n * @param artifactHubPackages\n * @returns `string[]` | Resource kinds\n */\nexport function resourcesFromAnnotation(artifactHubPackages: ArtifactHubPackage[]): string[] | void {\n  const out: string[] = [];\n\n  const resources = artifactHubPackages?.flatMap((artifactHubPackage) => {\n    const annotation = artifactHubPackage?.data?.['kubewarden/resources'];\n\n    if ( annotation ) {\n      return annotation;\n    }\n  });\n\n  resources?.flatMap((resource) => {\n    if ( resource ) {\n      const split = resource.split(',');\n\n      if ( split.length > 1 ) {\n        split.forEach((s: string) => out.push(s.trim()));\n      } else {\n        out.push(resource);\n      }\n    }\n\n    return [];\n  })?.sort();\n\n  if ( !out || out?.length === 0 ) {\n    return [];\n  }\n\n  return [...new Set(out.filter(Boolean))];\n}\n\n/**\n * Checks the resources within a ArtifactHub package's `kubewarden/resources` annotation to determine if\n * the policy is targeting non-namespaced resources. Needed to gate CAP from AP grid.\n * @param artifactHubPackage `schemas`\n * @returns Boolean\n */\nexport function isGlobalPolicy(artifactHubPackage: ArtifactHubPackage, schemas: any): Boolean {\n  if ( artifactHubPackage ) {\n    const resources: string[] | undefined = artifactHubPackage.data?.['kubewarden/resources']?.split(',');\n    let targetsNonNamespaced: Boolean = false;\n\n    if ( resources ) {\n      for ( const resource of resources ) {\n        targetsNonNamespaced = schemas?.some((schema: any) => (\n          schema?.attributes?.kind === resource && (schema?.attributes?.namespaced === false || undefined)\n        ));\n      }\n    }\n\n    return targetsNonNamespaced;\n  }\n\n  return false;\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('SortableTable',{ref:\"sortableTable\",attrs:{\"rows\":_vm.rows,\"headers\":_vm.headers,\"table-actions\":_vm.tableActions,\"row-actions\":_vm.rowActions,\"key-field\":_vm.keyField,\"default-sort-by\":_vm.defaultSortBy,\"paging\":_vm.paging,\"search\":_vm.search}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport SortableTable from '@shell/components/SortableTable';\n\nexport default {\n  props:      {\n    rows:          { type: Array, required: true },\n    headers:       { type: Array, required: true },\n    tableActions:  { type: Boolean, default: false },\n    rowActions:    { type: Boolean, default: false },\n    keyField:      { type: String, required: true },\n    defaultSortBy: { type: String, default: '' },\n    paging:        { type: Boolean, default: false },\n    search:        { type: Boolean, default: false }\n  },\n\n  components: { SortableTable },\n\n  data() {\n    return { listeners: [] };\n  },\n\n  watch: {\n    rows() {\n      this.addRowClickListener();\n    }\n  },\n\n  mounted() {\n    this.addRowClickListener();\n  },\n\n  methods: {\n    addRowClickListener() {\n      this.$nextTick(() => {\n        const table = this.$refs.sortableTable?.$el?.querySelector('table');\n\n        if ( table ) {\n          this.removeRowClickListener();\n\n          table.querySelectorAll('tbody tr').forEach((row, index) => {\n            const listener = () => this.$emit('selectRow', this.rows[index]);\n\n            row?.addEventListener('click', listener);\n            this.listeners.push({ row, listener });\n          });\n        }\n      });\n    },\n\n    removeRowClickListener() {\n      this.listeners?.forEach(({ row, listener }) => row?.removeEventListener('click', listener));\n      this.listeners = [];\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <SortableTable\n      ref=\"sortableTable\"\n      :rows=\"rows\"\n      :headers=\"headers\"\n      :table-actions=\"tableActions\"\n      :row-actions=\"rowActions\"\n      :key-field=\"keyField\"\n      :default-sort-by=\"defaultSortBy\"\n      :paging=\"paging\"\n      :search=\"search\"\n    />\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SortableTableWrapper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SortableTableWrapper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SortableTableWrapper.vue?vue&type=template&id=7934d794&\"\nimport script from \"./SortableTableWrapper.vue?vue&type=script&lang=js&\"\nexport * from \"./SortableTableWrapper.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport semver from 'semver';\n\nimport { SCHEMA } from '@shell/config/types';\nimport { _CREATE, CATEGORY, SEARCH_QUERY } from '@shell/config/query-params';\nimport { SHOW_PRE_RELEASE } from '@shell/store/prefs';\nimport { ensureRegex } from '@shell/utils/string';\nimport { sortBy } from '@shell/utils/sort';\n\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\n\nimport { KUBEWARDEN, KUBEWARDEN_PRODUCT_NAME } from '../../types';\nimport { POLICY_TABLE_HEADERS } from '../../config/table-headers';\nimport { resourcesFromAnnotation, isGlobalPolicy } from '../../modules/artifacthub';\n\nimport SortableTableWrapper from '../SortableTableWrapper';\n\nexport default {\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    // ArtifactHub packages\n    value: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n\n  inject: ['chartType'],\n\n  components: {\n    Checkbox, LabeledSelect, LabeledInput, SortableTableWrapper\n  },\n\n  fetch() {\n    const query = this.$route.query;\n\n    this.category = query[CATEGORY] || '';\n    this.searchQuery = query[SEARCH_QUERY] || '';\n  },\n\n  data() {\n    return {\n      KUBEWARDEN_PRODUCT_NAME,\n      POLICY_TABLE_HEADERS,\n\n      attributes:  [this.t('kubewarden.utils.attributes.optionLabels.all')],\n      searchQuery: null,\n\n      hidePackages:           [],\n      showKubewardenOfficial: true\n    };\n  },\n\n  computed: {\n    allSchemas() {\n      return this.$store.getters['cluster/all'](SCHEMA);\n    },\n\n    filteredPackages() {\n      const filteredPackages = this.value?.filter((artifactHubPackage) => {\n        // Determine if the package is a pre-release\n        const isPreRelease = this.isPrerelease(artifactHubPackage);\n\n        if ( !this.showPreRelease && isPreRelease ) {\n          return false; // Exclude pre-releases if showPreRelease is false\n        }\n\n        if ( this.chartType === KUBEWARDEN.ADMISSION_POLICY ) {\n          return !isGlobalPolicy(artifactHubPackage, this.allSchemas);\n        }\n\n        return true;\n      });\n\n      return filteredPackages || [];\n    },\n\n    filteredSubtypes() {\n      const subtypes = (this.filteredPackages || []);\n\n      const out = subtypes.filter((subtype) => {\n        // Show official only when showKubewardenOfficial is true\n        if ( this.showKubewardenOfficial && !this.isOfficial(subtype) ) {\n          return false;\n        }\n\n        // Search query filtering\n        if ( this.searchQuery ) {\n          const searchTokens = this.searchQuery.split(/\\s*[, ]\\s*/).map(x => ensureRegex(x, false));\n\n          const matchesSearch = searchTokens.every(token => (\n            subtype.display_name?.match(token) ||\n            ( subtype.description && subtype.description.match(token) ) ||\n            subtype.keywords?.some(keyword => keyword.match(token))\n          ));\n\n          if ( !matchesSearch ) {\n            return false;\n          }\n        }\n\n        // Attribute filtering\n        if ( this.attributes.length ) {\n          if ( this.attributes.includes(this.t('kubewarden.utils.attributes.optionLabels.all')) ) {\n            return true;\n          }\n\n          const matchesAttributes = this.attributes.some((attribute) => {\n            const isFeature = this.featureOptions.includes(attribute);\n\n            if ( isFeature ) {\n              const normalizedAttribute = attribute === 'Mutation' ? 'mutation' : 'contextAwareResources';\n\n              return subtype.data?.[`kubewarden/${ normalizedAttribute }`];\n            }\n\n            return subtype.data?.['kubewarden/resources']?.includes(attribute);\n          }\n          );\n\n          if ( !matchesAttributes ) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n\n      return sortBy(out, ['name']);\n    },\n\n    attributeOptions() {\n      const out = [];\n\n      if ( this.resourceOptions.length ) {\n        out.push({\n          kind:  'group',\n          label: this.t('kubewarden.utils.attributes.optionLabels.resource'),\n        }, ...this.resourceOptions);\n      }\n\n      if ( this.featureOptions.length ) {\n        out.push({\n          kind:  'group',\n          label: this.t('kubewarden.utils.attributes.optionLabels.features'),\n        }, ...this.featureOptions);\n      }\n\n      if ( out.length ) {\n        out.unshift(\n          this.t('kubewarden.utils.attributes.optionLabels.all'),\n          { kind: 'divider', label: 'divider' }\n        );\n      }\n\n      return out;\n    },\n\n    featureOptions() {\n      const featuresList = [];\n\n      for ( const subtype of this.filteredPackages ) {\n        if ( subtype?.data?.['kubewarden/mutation'] === 'true' ) {\n          featuresList.push('Mutation');\n        }\n\n        if ( subtype?.data?.['kubewarden/contextAwareResources'] ) {\n          featuresList.push('Context Aware');\n        }\n      }\n\n      if ( !featuresList || featuresList.length === 0 ) {\n        return [];\n      }\n\n      return [...new Set(featuresList.filter(Boolean))];\n    },\n\n    keywordOptions() {\n      const flattened = this.filteredPackages?.flatMap((subtype) => {\n        if ( subtype?.keywords && subtype.keywords.length ) {\n          return subtype.keywords;\n        }\n      });\n\n      if ( !flattened || flattened?.length === 0 ) {\n        return [];\n      }\n\n      return [...new Set(flattened.filter(Boolean))];\n    },\n\n    organizationOptions() {\n      const flattened = this.filteredPackages?.flatMap((subtype) => {\n        const name = subtype?.repository?.organization_display_name || subtype?.repository?.user_alias;\n\n        return name || null;\n      });\n\n      if ( !flattened || flattened.length === 0 ) {\n        return [];\n      }\n\n      return [...new Set(flattened.filter(Boolean))];\n    },\n\n    resourceOptions() {\n      return resourcesFromAnnotation(this.filteredPackages);\n    },\n\n    showPreRelease() {\n      return this.$store.getters['prefs/get'](SHOW_PRE_RELEASE);\n    }\n  },\n\n  methods: {\n    hasAnnotation(subtype, annotation) {\n      if ( subtype.data?.[annotation] && subtype.data?.[annotation] !== 'false' ) {\n        return true;\n      }\n\n      return false;\n    },\n\n    isPrerelease(artifactHubPackage) {\n      const parsed = semver.prerelease(artifactHubPackage.version);\n\n      /**\n       * Custom condition for Deprecated API Versions policy as these versions\n       * have specific k8s versions attached (e.g. `v0.1.12-k8sv1.29.0`).\n       */\n      if ( parsed && artifactHubPackage.name === 'deprecated-api-versions' ) {\n        return !!parsed.includes('rc');\n      }\n\n      return !!parsed;\n    },\n\n    refresh() {\n      this.category = null;\n      this.attributes = [this.t('kubewarden.utils.attributes.optionLabels.all')];\n      this.searchQuery = null;\n    },\n\n    isOfficial(subtype) {\n      return subtype?.repository?.organization_name?.toLowerCase() === KUBEWARDEN_PRODUCT_NAME;\n    },\n\n    handleAttributeSelect(selected) {\n      const allOption = this.t('kubewarden.utils.attributes.optionLabels.all');\n\n      if ( selected.includes(allOption) ) {\n        if ( selected.length === 1 || selected.indexOf(allOption) !== 0 ) {\n          this.attributes = [allOption];\n        } else {\n          this.attributes = selected.filter(attr => attr !== allOption);\n        }\n      } else {\n        this.attributes = selected.filter(attr => attr !== allOption);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"policy-table-container\">\n    <div class=\"filter\">\n      <LabeledSelect\n        v-if=\"attributeOptions.length\"\n        v-model=\"attributes\"\n        data-testid=\"kw-table-filter-source\"\n        :clearable=\"true\"\n        :taggable=\"true\"\n        :mode=\"mode\"\n        :multiple=\"true\"\n        class=\"filter__attributes\"\n        label-key=\"kubewarden.utils.attributes.label\"\n        :options=\"attributeOptions\"\n        @selecting=\"e => handleAttributeSelect(e)\"\n      />\n\n      <LabeledInput\n        ref=\"searchQuery\"\n        v-model=\"searchQuery\"\n        data-testid=\"kw-table-filter-search\"\n        :mode=\"mode\"\n        class=\"input-sm filter__search\"\n        :label=\"t('kubewarden.utils.search')\"\n        :placeholder=\"t('kubewarden.generic.name')\"\n      />\n\n      <button\n        ref=\"btn\"\n        data-testid=\"kw-table-filter-refresh\"\n        class=\"btn role-tertiary filter__reset\"\n        type=\"button\"\n        @click=\"refresh\"\n      >\n        <p>\n          {{ t('kubewarden.utils.resetFilter') }}\n        </p>\n      </button>\n    </div>\n\n    <div class=\"policy-table-actions\">\n      <Checkbox\n        v-model=\"showKubewardenOfficial\"\n        :label=\"t('kubewarden.utils.official.label')\"\n        data-testid=\"kw-table-filter-official\"\n      />\n\n      <button\n        ref=\"btn\"\n        data-testid=\"kw-table-custom-buttom\"\n        class=\"btn role-tertiary\"\n        type=\"button\"\n        @click=\"$emit('selectType', 'custom')\"\n      >\n        <p>\n          {{ t('kubewarden.utils.custom.create') }}\n        </p>\n      </button>\n    </div>\n\n    <SortableTableWrapper\n      :rows=\"filteredSubtypes\"\n      :headers=\"POLICY_TABLE_HEADERS\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"package_id\"\n      default-sort-by=\"name\"\n      :paging=\"true\"\n      :search=\"false\"\n      @selectRow=\"(row) => $emit('selectType', row)\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.policy-table-container {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 1rem;\n}\n\n.policy-table-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.filter {\n  width: 100%;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: repeat(2, 1fr) .25fr;\n  grid-template-areas:\n    \"attributes search reset\";\n\n  gap: 1rem;\n\n  & > * {\n    margin: 0.5rem 0;\n  }\n\n  &__attributes {\n    grid-area: attributes;\n  }\n\n  &__search {\n    grid-area: search;\n  }\n\n  &__reset {\n    grid-area: reset;\n\n    p {\n      line-height: 1.5;\n      white-space: wrap;\n    }\n  }\n}\n\n::v-deep tr:hover {\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PolicyTable.vue?vue&type=template&id=73f021fc&scoped=true&\"\nimport script from \"./PolicyTable.vue?vue&type=script&lang=js&\"\nexport * from \"./PolicyTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PolicyTable.vue?vue&type=style&index=0&id=73f021fc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73f021fc\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport jsyaml from 'js-yaml';\nimport merge from 'lodash/merge';\nimport isEmpty from 'lodash/isEmpty';\nimport isEqual from 'lodash/isEqual';\n\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { NAMESPACE } from '@shell/config/types';\nimport { _CREATE } from '@shell/config/query-params';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport { Banner } from '@components/Banner';\n\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Loading from '@shell/components/Loading';\nimport Wizard from '@shell/components/Wizard';\n\nimport {\n  KUBEWARDEN,\n  KUBEWARDEN_PRODUCT_NAME,\n  VALUES_STATE,\n  ARTIFACTHUB_PKG_ANNOTATION,\n  DEFAULT_POLICY\n} from '../../types';\nimport { removeEmptyAttrs } from '../../utils/object';\nimport { handleGrowl } from '../../utils/handle-growl';\n\nimport { DATA_ANNOTATIONS } from '../../types/artifacthub';\nimport PolicyTable from './PolicyTable';\nimport PolicyReadmePanel from './PolicyReadmePanel';\nimport Values from './Values';\n\nexport default ({\n  name: 'Create',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    value: {\n      type:     Object,\n      default:  () => ({})\n    },\n  },\n\n  components: {\n    AsyncButton,\n    Banner,\n    Loading,\n    Wizard,\n    PolicyTable,\n    PolicyReadmePanel,\n    Values\n  },\n\n  inject: ['chartType'],\n\n  mixins: [CreateEditView],\n\n  async fetch() {\n    if ( this.hasArtifactHub ) {\n      await this.getPackages();\n    }\n\n    this.value.apiVersion = `${ this.schema?.attributes?.group }.${ this.schema?.attributes?.version }`;\n    this.value.kind = this.schema?.attributes?.kind;\n  },\n\n  data() {\n    return {\n      bannerTitle:       null,\n      shortDescription:  null,\n      loadingPackages:   false,\n      packages:          null,\n      repository:        null,\n      type:              null,\n      typeModule:        null,\n      version:           null,\n\n      chartValues: {\n        policy:    {},\n        questions: {}\n      },\n      yamlValues: '',\n\n      hasCustomPolicy: false,\n      yamlOption:      VALUES_STATE.FORM,\n      finishAttempts:  0,\n\n      // Steps\n      stepPolicies: {\n        hidden:    false,\n        name:      'policies',\n        label:     'Policies',\n        ready:     false,\n        showSteps: false,\n        weight:    99\n      },\n      stepValues: {\n        name:      'values',\n        label:     'Values',\n        ready:     true,\n        showSteps: false,\n        weight:    98\n      },\n    };\n  },\n\n  computed: {\n    isAirgap() {\n      return this.$store.getters['kubewarden/airGapped'];\n    },\n\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isSelected() {\n      return !!this.type;\n    },\n\n    customPolicy() {\n      return this.type === 'custom';\n    },\n\n    /** Allow create if either editing in yaml view or module and required rules/settings have been met */\n    canFinish() {\n      if ( this.yamlOption === VALUES_STATE.YAML ) {\n        return true;\n      }\n\n      return !!this.chartValues?.policy?.spec?.module && this.hasRequired;\n    },\n\n    hasArtifactHub() {\n      return this.value.artifactHubWhitelist;\n    },\n\n    /** Determines if the required rules/settings are set, if not the resource can not be created */\n    hasRequired() {\n      if ( !isEmpty(this.chartValues?.policy) && this.chartValues.policy.spec ) {\n        const { rules, settings } = this.chartValues.policy.spec;\n\n        const requiredRules = ['apiVersions', 'operations', 'resources'];\n        const acceptedRules = this.acceptedValues(rules, requiredRules);\n\n        const requiredQuestions = this.chartValues?.questions?.questions?.map((q) => {\n          if ( q.required ) {\n            return q.variable;\n          }\n        }).filter(Boolean);\n        const acceptedQuestions = this.acceptedValues(settings, requiredQuestions);\n\n        if ( !isEmpty(acceptedRules) && (isEmpty(requiredQuestions) || !isEmpty(acceptedQuestions)) ) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    hideArtifactHubBanner() {\n      return this.$store.getters['kubewarden/hideBannerArtifactHub'] || !!this.hasArtifactHub || !!this.isAirgap;\n    },\n\n    hideAirgapBanner() {\n      return !this.isAirgap || this.$store.getters['kubewarden/hideBannerAirgapPolicy'];\n    },\n\n    packageValues() {\n      if ( this.type?.repository?.url ) {\n        return this.packages?.find(p => p.repository?.url === this.type.repository.url);\n      }\n\n      return null;\n    },\n\n    steps() {\n      const steps = [];\n\n      steps.push(\n        this.stepPolicies,\n        this.stepValues\n      );\n\n      return steps.sort((a, b) => b.weight - a.weight);\n    }\n  },\n\n  methods: {\n    /** Determine values which need to be required from supplied property and keys */\n    acceptedValues(requiredProp, requiredKeys) {\n      if ( isEmpty(requiredKeys) ) {\n        return null;\n      }\n\n      let accepted;\n\n      if ( Array.isArray(requiredProp) ) {\n        accepted = requiredProp.find(prop => this.checkProperties(prop, requiredKeys));\n      } else {\n        accepted = this.checkProperties(requiredProp, requiredKeys);\n      }\n\n      return accepted;\n    },\n\n    /** Check supplied property for required keys */\n    checkProperties(requiredProp, requiredKeys) {\n      const match = [];\n\n      if ( !isEmpty(requiredKeys) ) {\n        for ( const key of requiredKeys.values() ) {\n          if ( !isEmpty(requiredProp[key]) ) {\n            match.push(key);\n          }\n        }\n        if ( requiredKeys && isEqual(match, requiredKeys) ) {\n          return requiredProp;\n        }\n      }\n\n      return null;\n    },\n\n    async closeBanner(banner, retry = 0) {\n      const res = await this.$store.dispatch(`kubewarden/${ banner }`, true);\n\n      if ( retry === 0 && res?.type === 'error' && res?.status === 500 ) {\n        await this.close(retry + 1);\n      }\n    },\n\n    async createNamespace(ns) {\n      const allNamespaces = this.$store.getters['cluster/all'](NAMESPACE);\n      const nsTemplate = {\n        type:                     NAMESPACE,\n        metadata:                 { name: ns },\n        disableOpenApiValidation: false\n      };\n\n      const existing = allNamespaces?.find(n => n?.metadata?.name === ns);\n\n      if ( !existing ) {\n        const nsResource = await this.$store.dispatch('cluster/create', nsTemplate);\n\n        try {\n          await nsResource.save();\n        } catch (e) {\n          this.errors.push(e);\n        }\n      }\n    },\n\n    async addArtifactHub(btnCb) {\n      try {\n        this.loadingPackages = true;\n\n        await this.value.updateWhitelist('artifacthub.io');\n        await this.getPackages();\n\n        btnCb(true);\n        this.loadingPackages = false;\n      } catch (e) {\n        handleGrowl({ error: e, store: this.$store });\n\n        btnCb(false);\n        this.loadingPackages = false;\n      }\n    },\n\n    done() {\n      this.$router.replace({\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster:  this.$route.params.cluster,\n          product:  KUBEWARDEN_PRODUCT_NAME,\n          resource: this.schema?.id\n        }\n      });\n    },\n\n    async finish(event) {\n      try {\n        let out;\n\n        if ( this.yamlOption === VALUES_STATE.YAML ) {\n          out = jsyaml.load(this.yamlValues);\n        } else {\n          out = this.chartValues?.policy ? this.chartValues.policy : jsyaml.load(this.yamlValues);\n        }\n\n        removeEmptyAttrs(out); // Clean up empty values from questions\n\n        if ( this.finishAttempts > 0 ) {\n          // Remove keys that are not in the new spec\n          Object.keys(this.value.spec).forEach((key) => {\n            if ( !(key in out.spec) ) {\n              this.$delete(this.value.spec, key);\n            }\n          });\n\n          // Then, set or update the remaining keys\n          Object.keys(out.spec).forEach((key) => {\n            this.$set(this.value.spec, key, out.spec[key]);\n          });\n        } else {\n          merge(this.value, out);\n        }\n\n        // If create new namespace option is selected, create the ns before saving the policy\n        if ( this.chartType === KUBEWARDEN.ADMISSION_POLICY && this.chartValues?.isNamespaceNew ) {\n          await this.createNamespace(this.value?.metadata?.namespace);\n        }\n\n        await this.attemptSave(event);\n      } catch (e) {\n        console.error('Error creating policy', e); // eslint-disable-line no-console\n      }\n    },\n\n    async attemptSave(event) {\n      await this.save(event);\n\n      // Check for errors set by the mixin\n      if ( this.errors && this.errors.length > 0 ) {\n        const error = new Error('Save operation failed');\n\n        this.finishAttempts++;\n        throw error; // Force an error to be caught in the finish method\n      }\n    },\n\n    /** Fetch packages from ArtifactHub repository */\n    async getPackages() {\n      this.repository = await this.value.artifactHubRepo();\n\n      if ( this.repository && this.repository.packages.length > 0 ) {\n        const promises = this.repository.packages.map(pkg => this.packageDetails(pkg));\n\n        try {\n          const packages = await Promise.all(promises);\n\n          this.packages = packages.filter(pkg => pkg?.data?.['kubewarden/hidden-ui'] !== 'true');\n        } catch (e) {\n          handleGrowl({ error: e, store: this.$store });\n\n          console.warn(`Error fetching packages`, e); // eslint-disable-line no-console\n        }\n      }\n    },\n\n    async packageDetails(pkg) {\n      try {\n        return await this.value.artifactHubPackage(pkg);\n      } catch (e) {}\n    },\n\n    /** Extract policy questions from ArtifactHub package if available */\n    policyQuestions() {\n      const defaultPolicy = structuredClone(DEFAULT_POLICY);\n\n      if ( this.customPolicy ) {\n        // Add contextAwareResources to custom policy spec\n        const updatedCustomPolicy = { spec: { contextAwareResources: [] } };\n\n        merge(defaultPolicy, updatedCustomPolicy);\n        set(this.chartValues, 'policy', defaultPolicy);\n        this.yamlValues = saferDump(defaultPolicy);\n\n        return;\n      }\n\n      const policyDetails = this.packages.find(pkg => pkg.repository?.url === this.type?.repository?.url);\n      const packageQuestions = this.value.parsePackageMetadata(policyDetails?.data?.[DATA_ANNOTATIONS.QUESTIONS]);\n      const packageAnnotation = `${ policyDetails?.repository?.name }/${ policyDetails?.name }/${ policyDetails?.version }`;\n      /** Return spec from package if annotation exists */\n      const parseAnnotation = (annotation, obj) => {\n        const spec = this.value.parsePackageMetadata(policyDetails?.data?.[annotation]);\n\n        if ( spec?.[obj] !== undefined ) {\n          return spec[obj];\n        }\n\n        return spec || [];\n      };\n\n      /** Return value of annotation if it exists */\n      const determineAnnotation = (annotation) => {\n        if ( policyDetails?.data?.[annotation] !== undefined ) {\n          return JSON.parse(policyDetails.data[annotation]);\n        }\n\n        return false;\n      };\n\n      const updatedPolicy = {\n        apiVersion: this.value.apiVersion,\n        kind:       this.value.kind,\n        metadata:   { annotations: { [ARTIFACTHUB_PKG_ANNOTATION]: packageAnnotation } },\n        spec:       {\n          module:                policyDetails?.containers_images[0].image,\n          contextAwareResources: parseAnnotation(DATA_ANNOTATIONS.CONTEXT_AWARE, 'contextAwareResources'),\n          rules:                 parseAnnotation(DATA_ANNOTATIONS.RULES, 'rules'),\n          mutating:              determineAnnotation(DATA_ANNOTATIONS.MUTATION)\n        }\n      };\n\n      merge(defaultPolicy, updatedPolicy);\n      set(this.chartValues, 'policy', defaultPolicy);\n\n      this.yamlValues = saferDump(defaultPolicy);\n\n      if ( packageQuestions ) {\n        set(this.chartValues, 'questions', packageQuestions);\n      }\n\n      this.shortDescription = policyDetails?.description;\n    },\n\n    reset(event) {\n      this.$nextTick(() => {\n        if ( event.step?.name === this.stepPolicies.name ) {\n          const initialState = [\n            'errors',\n            'bannerTitle',\n            'shortDescription',\n            'type',\n            'typeModule',\n            'version',\n            'hasCustomPolicy',\n          ];\n\n          initialState.forEach((i) => {\n            this[i] = null;\n          });\n\n          this.stepPolicies.ready = false;\n          this.stepValues.hidden = false;\n\n          this.chartValues = {\n            policy:    {},\n            questions: {}\n          };\n          this.yamlOption = VALUES_STATE.FORM;\n          this.yamlValues = '';\n        }\n      });\n    },\n\n    selectType(type) {\n      this.type = type;\n\n      if ( this.customPolicy ) {\n        this.$set(this, 'hasCustomPolicy', true);\n      } else {\n        this.$set(this, 'hasCustomPolicy', false);\n      }\n\n      this.policyQuestions();\n      this.stepPolicies.ready = true;\n      this.$refs.wizard.next();\n      this.bannerTitle = this.customPolicy ? 'Custom Policy' : type?.display_name;\n      this.typeModule = this.chartValues?.policy?.spec.module;\n    },\n\n    showReadme() {\n      this.$refs.readmePanel.show();\n    }\n  }\n\n});\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else>\n    <template v-if=\"!hideArtifactHubBanner\">\n      <Banner\n        data-testid=\"kw-policy-create-ah-banner\"\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :closable=\"true\"\n        @close=\"closeBanner('updateHideBannerArtifactHub')\"\n      >\n        <div>\n          <p v-clean-html=\"t('kubewarden.policies.noArtifactHub', {}, true)\" class=\"mb-10\" />\n          <AsyncButton mode=\"artifactHub\" @click=\"addArtifactHub\" />\n        </div>\n      </Banner>\n    </template>\n    <template v-if=\"!hideAirgapBanner\">\n      <Banner\n        data-testid=\"kw-policy-create-ag-banner\"\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :closable=\"true\"\n        :label=\"t('kubewarden.policies.airgap.banner')\"\n        @close=\"closeBanner('updateHideBannerAirgapPolicy')\"\n      />\n    </template>\n    <Loading v-if=\"loadingPackages\" />\n    <Wizard\n      v-if=\"value && !loadingPackages\"\n      ref=\"wizard\"\n      v-model=\"value\"\n      data-testid=\"kw-policy-create-wizard\"\n      :errors=\"errors\"\n      :steps=\"steps\"\n      :show-banner=\"false\"\n      :edit-first-step=\"true\"\n      class=\"wizard\"\n      @next=\"reset\"\n      @cancel=\"done\"\n      @finish=\"finish\"\n    >\n      <template #policies>\n        <PolicyTable\n          data-testid=\"kw-policy-create-table\"\n          :value=\"packages\"\n          @selectType=\"selectType($event)\"\n        />\n      </template>\n\n      <template #values>\n        <div class=\"banner__title\">\n          <h2>{{ bannerTitle }}</h2>\n          <template v-if=\"!customPolicy\">\n            <p class=\"banner__short-description\">\n              {{ shortDescription }}\n            </p>\n            <button class=\"btn btn-sm role-link banner__readme-button\" @click=\"showReadme\">\n              {{ t('kubewarden.policyConfig.description.showReadme') }}\n            </button>\n          </template>\n        </div>\n        <Values\n          :value=\"value\"\n          :chart-values=\"chartValues\"\n          :yaml-values=\"yamlValues\"\n          :mode=\"mode\"\n          :custom-policy=\"customPolicy\"\n          @editor=\"$event => yamlOption = $event\"\n          @updateYamlValues=\"$event => yamlValues = $event\"\n        />\n      </template>\n\n      <template #finish>\n        <AsyncButton\n          data-testid=\"kw-policy-create-finish-button\"\n          :disabled=\"!canFinish\"\n          mode=\"finish\"\n          @click=\"finish\"\n        />\n      </template>\n    </Wizard>\n\n    <template v-if=\"packageValues && !customPolicy\">\n      <PolicyReadmePanel\n        ref=\"readmePanel\"\n        :package-values=\"packageValues\"\n      />\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n$padding: 5px;\n$height: 110px;\n$margin: 10px;\n$color: var(--body-text) !important;\n\n::v-deep .header {\n  display: none;\n}\n\n::v-deep .controls-row {\n  position: sticky;\n  width: auto;\n\n  .controls-steps {\n    display: flex;\n  }\n}\n\n::v-deep .custom {\n  min-height: 110px;\n}\n\n::v-deep .subtype {\n  height: $height;\n  margin: $margin;\n  position: relative;\n  border-radius: calc( 1.5 * var(--border-radius));\n  border: 1px solid var(--border);\n  text-decoration: none !important;\n  color: $color;\n\n  &:hover:not(.disabled) {\n    box-shadow: 0 0 30px var(--shadow);\n    transition: box-shadow 0.1s ease-in-out;\n    cursor: pointer;\n    text-decoration: none !important;\n  }\n\n  &__metadata {\n    padding: $margin;\n\n    &__label, &__description {\n      padding-right: 20px;\n    }\n  }\n\n  &__badge {\n    position: absolute;\n    right: 0;\n    top: 0;\n    padding: 4px $padding;\n    border-bottom-left-radius: var(--border-radius);\n\n    label {\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n      display: block;\n      white-space: no-wrap;\n      text-overflow: ellipsis;\n      color: var(--app-rancher-accent-text);\n      margin: 0;\n    }\n  }\n\n  &__label {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: 4px;\n    line-height: initial;\n  }\n\n  &__description {\n    margin-right: $margin;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 3;\n    line-clamp: 3;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color: var(--input-label);\n  }\n}\n\n::v-deep .footer-error {\n  margin-top: 15px;\n}\n\n.wizard {\n  position: relative;\n  height: 100%;\n  z-index: 1;\n}\n\n.banner {\n  &__title {\n    padding-top: 10px;\n    margin-bottom: 10px;\n    border-bottom: 1px solid var(--border);\n    min-height: 60px;\n  }\n\n  &__readme-button {\n    padding: 0 7px 0 0;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=6968a27a&scoped=true&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Create.vue?vue&type=style&index=0&id=6968a27a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6968a27a\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=style&index=0&id=5ae37dc8&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"dec66a40\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import isEmpty from 'lodash/isEmpty';\nimport isObject from 'lodash/isObject';\n\nexport function removeEmptyAttrs(obj: any): any {\n  Object.keys(obj).forEach((key: any) => {\n    const value = obj[key];\n\n    // Check for value being empty, null, or an empty array\n    if ( value === undefined || value === null || value === '' || (Array.isArray(value) && !value.length) ) {\n      delete obj[key];\n    } else if ( isObject(value) ) {\n      // Recursively clean the object\n      removeEmptyAttrs(value);\n\n      // After cleaning, if the object is empty, delete it\n      if ( isEmpty(value) ) {\n        delete obj[key];\n      }\n    }\n  });\n\n  // Added check: If the parent object is now empty, return null to signal removal\n  if ( isEmpty(obj) ) {\n    return null;\n  }\n\n  return obj;\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$fetchState.pending)?_c('Loading',{attrs:{\"mode\":\"relative\"}}):_c('CruResource',{attrs:{\"resource\":_vm.value,\"mode\":_vm.realMode,\"can-yaml\":false,\"done-route\":_vm.doneRoute,\"errors\":_vm.errors,\"validation-passed\":_vm.validationPassed},on:{\"finish\":_vm.finish,\"error\":e => _vm.errors = e}},[_c('Values',{attrs:{\"value\":_vm.value,\"chart-values\":_vm.chartValues,\"mode\":_vm.mode},on:{\"validation-passed\":_vm.handleValidationPassed}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$fetchState.pending)?_c('Loading',{attrs:{\"mode\":\"relative\"}}):_c('div',{staticClass:\"scroll__container\"},[(_vm.isCreate || _vm.isEdit)?_c('div',{staticClass:\"step__values__controls\"},[_c('ButtonGroup',{attrs:{\"data-testid\":\"kw-policy-server-config-yaml-option\",\"options\":_vm.YAML_OPTIONS,\"inactive-class\":\"bg-disabled btn-sm\",\"active-class\":\"bg-primary btn-sm\"},model:{value:(_vm.yamlOption),callback:function ($$v) {_vm.yamlOption=$$v},expression:\"yamlOption\"}})],1):_vm._e(),_c('div',{staticClass:\"scroll__content\"},[(_vm.showForm)?[_c('Tabbed',{ref:\"tabs\",staticClass:\"step__values__content\",attrs:{\"side-tabs\":true},on:{\"changed\":function($event){return _vm.tabChanged($event)}}},[_c(_vm.valuesComponent,{tag:\"component\",attrs:{\"resource\":_vm.value,\"mode\":_vm.mode},on:{\"validation-passed\":_vm.handleValidationPassed},model:{value:(_vm.values),callback:function ($$v) {_vm.values=$$v},expression:\"values\"}})],1)]:((_vm.isCreate || _vm.isEdit) && !_vm.showForm)?[_c('YamlEditor',{ref:\"yaml\",staticClass:\"step__values__content\",attrs:{\"data-testid\":\"kw-policy-server-config-yaml-editor\",\"scrolling\":true,\"initial-yaml-values\":_vm.originalYamlValues,\"editor-mode\":_vm.editorMode,\"hide-preview-buttons\":true},on:{\"onChanges\":_vm.updateYamlValues},model:{value:(_vm.currentYamlValues),callback:function ($$v) {_vm.currentYamlValues=$$v},expression:\"currentYamlValues\"}})]:_vm._e(),_c('ResourceCancelModal',{ref:\"cancelModal\",attrs:{\"data-testid\":\"kw-policy-server-config-yaml-cancel\",\"is-cancel-modal\":false,\"is-form\":true},on:{\"cancel-cancel\":function($event){_vm.preYamlOption = _vm.yamlOption},\"confirm-cancel\":function($event){_vm.yamlOption = _vm.preYamlOption}}})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport merge from 'lodash/merge';\nimport isEmpty from 'lodash/isEmpty';\nimport jsyaml from 'js-yaml';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport { SCHEMA } from '@shell/config/types';\nimport { createYaml } from '@shell/utils/create-yaml';\n\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport Loading from '@shell/components/Loading';\nimport ResourceCancelModal from '@shell/components/ResourceCancelModal';\nimport Tabbed from '@shell/components/Tabbed';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport { VALUES_STATE, YAML_OPTIONS } from '../../types';\n\nexport default {\n  name: 'Values',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    chartValues: {\n      type:     Object,\n      default:  () => {}\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    }\n  },\n\n  components: {\n    ButtonGroup, Loading, ResourceCancelModal, Tabbed, YamlEditor\n  },\n\n  async fetch() {\n    const valuesYaml = this.generateYaml();\n\n    this.currentYamlValues = valuesYaml;\n    this.originalYamlValues = valuesYaml;\n\n    try {\n      await this.loadValuesComponent();\n    } catch (e) {\n      console.error(`Error loading values component: ${ e }`); // eslint-disable-line no-console\n    }\n  },\n\n  data() {\n    return {\n      YAML_OPTIONS,\n      currentYamlValues:   '',\n      originalYamlValues:  '',\n      showForm:            true,\n      configValues:        null,\n      showQuestions:       true,\n      showValuesComponent: false,\n      valuesComponent:     null,\n      preYamlOption:       VALUES_STATE.FORM,\n      yamlOption:          VALUES_STATE.FORM,\n      values:              this.chartValues\n    };\n  },\n\n  watch: {\n    yamlOption(neu, old) {\n      switch (neu) {\n      case VALUES_STATE.FORM:\n        this.showForm = true;\n        break;\n      case VALUES_STATE.YAML:\n        if ( old === VALUES_STATE.FORM ) {\n          this.currentYamlValues = this.generateYaml();\n          this.updateYamlValues();\n        }\n\n        this.showForm = false;\n        break;\n      }\n    },\n  },\n\n  computed: {\n    editorMode() {\n      return EDITOR_MODES.EDIT_CODE;\n    },\n\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    }\n  },\n\n  methods: {\n    generateYaml() {\n      const schemas = this.$store.getters['cluster/all'](SCHEMA);\n      const yaml = createYaml(schemas, this.value?.type, this.chartValues);\n\n      const lines = yaml.split('\\n');\n      const filteredLines = lines.filter(line => !line.includes('Error loading schema for array'));\n      const modifiedYAML = filteredLines.join('\\n');\n\n      return modifiedYAML;\n    },\n\n    async loadValuesComponent() {\n      if ( this.value.haveComponent('kubewarden/policy-server') ) {\n        this.valuesComponent = this.value.importComponent('kubewarden/policy-server');\n        await this.valuesComponent();\n\n        this.showValuesComponent = true;\n      }\n    },\n\n    tabChanged() {\n      window.scrollTop = 0;\n    },\n\n    updateYamlValues() {\n      if ( !isEmpty(this.currentYamlValues) ) {\n        const parsed = jsyaml.load(this.currentYamlValues);\n\n        if ( parsed ) {\n          merge(this.chartValues, parsed);\n        }\n      }\n    },\n\n    handleValidationPassed(val) {\n      this.$emit('validation-passed', val);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else class=\"scroll__container\">\n    <div v-if=\"isCreate || isEdit\" class=\"step__values__controls\">\n      <ButtonGroup\n        v-model=\"yamlOption\"\n        data-testid=\"kw-policy-server-config-yaml-option\"\n        :options=\"YAML_OPTIONS\"\n        inactive-class=\"bg-disabled btn-sm\"\n        active-class=\"bg-primary btn-sm\"\n      />\n    </div>\n    <div class=\"scroll__content\">\n      <template v-if=\"showForm\">\n        <Tabbed\n          ref=\"tabs\"\n          :side-tabs=\"true\"\n          class=\"step__values__content\"\n          @changed=\"tabChanged($event)\"\n        >\n          <component\n            :is=\"valuesComponent\"\n            v-model=\"values\"\n            :resource=\"value\"\n            :mode=\"mode\"\n            @validation-passed=\"handleValidationPassed\"\n          />\n        </Tabbed>\n      </template>\n      <template v-else-if=\"(isCreate || isEdit) && !showForm\">\n        <YamlEditor\n          ref=\"yaml\"\n          v-model=\"currentYamlValues\"\n          data-testid=\"kw-policy-server-config-yaml-editor\"\n          class=\"step__values__content\"\n          :scrolling=\"true\"\n          :initial-yaml-values=\"originalYamlValues\"\n          :editor-mode=\"editorMode\"\n          :hide-preview-buttons=\"true\"\n          @onChanges=\"updateYamlValues\"\n        />\n      </template>\n\n      <ResourceCancelModal\n        ref=\"cancelModal\"\n        data-testid=\"kw-policy-server-config-yaml-cancel\"\n        :is-cancel-modal=\"false\"\n        :is-form=\"true\"\n        @cancel-cancel=\"preYamlOption = yamlOption\"\n        @confirm-cancel=\"yamlOption = preYamlOption\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  $padding: 5px;\n  $height: 110px;\n  $side: 15px;\n  $margin: 10px;\n  $logo: 60px;\n\n  ::v-deep .step-container {\n    height: auto;\n  }\n\n  .step {\n    &__basic {\n      display: flex;\n      flex-direction: column;\n      flex: 1;\n      overflow-x: hidden;\n\n      .spacer {\n        line-height: 2;\n      }\n    }\n\n    &__values {\n      &__controls {\n        display: flex;\n        margin-bottom: 15px;\n\n        & > *:not(:last-of-type) {\n          margin-right: $padding * 2;\n        }\n\n        &--spacer {\n          flex: 1\n        }\n\n      }\n\n      &__content {\n        flex: 1;\n\n        ::v-deep .tab-container {\n          overflow: auto;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Values.vue?vue&type=template&id=5ae37dc8&scoped=true&\"\nimport script from \"./Values.vue?vue&type=script&lang=js&\"\nexport * from \"./Values.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Values.vue?vue&type=style&index=0&id=5ae37dc8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ae37dc8\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport merge from 'lodash/merge';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport CruResource from '@shell/components/CruResource';\nimport Loading from '@shell/components/Loading';\n\nimport { DEFAULT_POLICY_SERVER } from '../models/policies.kubewarden.io.policyserver';\nimport { KUBEWARDEN } from '../types';\n\nimport Values from '../components/PolicyServer/Values';\n\nexport default {\n  components: {\n    CruResource, Loading, Values\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    },\n  },\n\n  async fetch() {\n    const schema = this.$store.getters[`cluster/schemaFor`](KUBEWARDEN.POLICY_SERVER);\n\n    await schema.fetchResourceFields();\n  },\n\n  data() {\n    return {\n      errors:           [],\n      chartValues:      this.value,\n      validationPassed: true,\n    };\n  },\n\n  created() {\n    if ( this.isCreate ) {\n      merge(this.chartValues, structuredClone(DEFAULT_POLICY_SERVER));\n    }\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    }\n  },\n\n  methods: {\n    handleValidationPassed(val) {\n      this.validationPassed = val;\n    },\n    async finish(event) {\n      // here we cleanup the securityContexts \"seccompProfile\" property if there are no keys set on the object\n      ['pod', 'container'].forEach((type) => {\n        if (this.chartValues?.spec?.securityContexts?.[type]?.seccompProfile && !Object.keys(this.chartValues?.spec?.securityContexts?.[type]?.seccompProfile).length) {\n          delete this.chartValues?.spec?.securityContexts?.[type]?.seccompProfile;\n        }\n      });\n\n      try {\n        await this.save(event);\n      } catch (e) {\n        this.errors.push(e);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <CruResource\n    v-else\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    :done-route=\"doneRoute\"\n    :errors=\"errors\"\n    :validation-passed=\"validationPassed\"\n    @finish=\"finish\"\n    @error=\"e => errors = e\"\n  >\n    <Values\n      :value=\"value\"\n      :chart-values=\"chartValues\"\n      :mode=\"mode\"\n      @validation-passed=\"handleValidationPassed\"\n    />\n  </CruResource>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.policyserver.vue?vue&type=template&id=5e7084d1&\"\nimport script from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$fetchState.pending)?_c('Loading',{attrs:{\"mode\":\"relative\"}}):_c('div',[(_vm.isCreate || _vm.isEdit)?_c('div',{staticClass:\"step__values__controls\"},[_c('ButtonGroup',{attrs:{\"data-testid\":\"kw-policy-config-yaml-option\",\"options\":_vm.YAML_OPTIONS,\"inactive-class\":\"bg-disabled btn-sm\",\"active-class\":\"bg-primary btn-sm\"},model:{value:(_vm.yamlOption),callback:function ($$v) {_vm.yamlOption=$$v},expression:\"yamlOption\"}})],1):_vm._e(),_c('div',{staticClass:\"scroll__container\"},[_c('div',{staticClass:\"scroll__content\"},[(_vm.showForm)?[_c('Tabbed',{ref:\"tabs\",staticClass:\"step__values__content\",attrs:{\"side-tabs\":true},on:{\"changed\":function($event){return _vm.tabChanged($event)}}},[(_vm.valuesComponent)?[_c(_vm.valuesComponent,{tag:\"component\",attrs:{\"mode\":_vm.mode,\"custom-policy\":_vm.customPolicy},model:{value:(_vm.chartValues),callback:function ($$v) {_vm.chartValues=$$v},expression:\"chartValues\"}})]:_vm._e()],2)]:((_vm.isCreate || _vm.isEdit) && !_vm.showForm)?[_c('YamlEditor',{ref:\"yaml\",staticClass:\"step__values__content\",attrs:{\"data-testid\":\"kw-policy-config-yaml-editor\",\"scrolling\":true,\"initial-yaml-values\":_vm.originalYamlValues,\"editor-mode\":_vm.editorMode,\"hide-preview-buttons\":true},on:{\"onChanges\":_vm.updateYamlValues},model:{value:(_vm.currentYamlValues),callback:function ($$v) {_vm.currentYamlValues=$$v},expression:\"currentYamlValues\"}})]:_vm._e(),_c('ResourceCancelModal',{ref:\"cancelModal\",attrs:{\"data-testid\":\"kw-policy-config-yaml-cancel\",\"is-cancel-modal\":false,\"is-form\":true},on:{\"cancel-cancel\":function($event){_vm.preYamlOption = _vm.yamlOption},\"confirm-cancel\":function($event){_vm.yamlOption = _vm.preYamlOption}}})],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport isEmpty from 'lodash/isEmpty';\n\nimport { _CREATE, _EDIT, _VIEW } from '@shell/config/query-params';\nimport { SCHEMA } from '@shell/config/types';\nimport { createYaml, saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport Loading from '@shell/components/Loading';\nimport ResourceCancelModal from '@shell/components/ResourceCancelModal';\nimport Tabbed from '@shell/components/Tabbed';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport { KUBEWARDEN_CHARTS, VALUES_STATE, YAML_OPTIONS, RANCHER_NS_MATCH_EXPRESSION } from '../../types';\n\nexport default {\n  name: 'Values',\n\n  props: {\n    mode: {\n      type:     String,\n      default:  _VIEW\n    },\n    chartValues: {\n      type:     Object,\n      default:  () => {}\n    },\n    customPolicy: {\n      type:    Boolean,\n      default: false\n    },\n    value: {\n      type:     Object,\n      required: true\n    },\n    yamlValues: {\n      type:    String,\n      default: ''\n    }\n  },\n\n  components: {\n    ButtonGroup, Loading, ResourceCancelModal, Tabbed, YamlEditor\n  },\n\n  async fetch() {\n    if ( isEmpty(this.chartValues.questions) && !!this.chartValues?.policy?.spec?.settings ) {\n      try {\n        const pkg = await this.value.artifactHubPackageVersion();\n\n        if ( pkg && !pkg.error ) {\n          const packageQuestions = this.value.parsePackageMetadata(pkg?.data?.['kubewarden/questions-ui']);\n\n          if ( packageQuestions ) {\n            set(this.chartValues, 'questions', packageQuestions);\n          }\n        }\n      } catch (e) {\n        console.warn(`Unable to fetch chart questions: ${ e }`); // eslint-disable-line no-console\n      }\n    }\n\n    try {\n      this.version = this.$store.getters['catalog/version']({\n        repoType:      'cluster',\n        repoName:      'kubewarden',\n        chartName:     KUBEWARDEN_CHARTS.CONTROLLER,\n      });\n\n      await this.loadValuesComponent();\n    } catch (e) {\n      console.warn(`Unable to fetch Version: ${ e }`); // eslint-disable-line no-console\n    }\n\n    this.generateYaml();\n  },\n\n  data() {\n    return {\n      YAML_OPTIONS,\n      currentYamlValues:   '',\n      originalYamlValues:  '',\n      showForm:            true,\n      valuesComponent:     null,\n      preYamlOption:       VALUES_STATE.FORM,\n      yamlOption:          VALUES_STATE.FORM\n    };\n  },\n\n  mounted() {\n    // by default, every clusterAdmissionPolicy created will ignore Rancher system namespaces\n    // so that policies in PROTECT mode don't crash the system\n    // needs to be in this component because MatchExpression component is not automatically updated\n    if (this.mode === _CREATE && this.chartValues?.policy?.kind === 'ClusterAdmissionPolicy') {\n      if (!this.chartValues?.policy?.spec?.namespaceSelector) {\n        this.chartValues.policy.spec.namespaceSelector = {};\n      }\n\n      this.chartValues.policy.spec.namespaceSelector.matchExpressions = [RANCHER_NS_MATCH_EXPRESSION];\n    }\n  },\n\n  watch: {\n    yamlOption(neu, old) {\n      switch (neu) {\n      case VALUES_STATE.FORM:\n        this.showForm = true;\n        this.$emit('editor', neu);\n\n        break;\n      case VALUES_STATE.YAML:\n        if ( old === VALUES_STATE.FORM ) {\n          this.currentYamlValues = saferDump(this.chartValues.policy);\n          this.updateYamlValues();\n        }\n\n        this.showForm = false;\n        this.$emit('editor', neu);\n\n        break;\n      }\n    },\n  },\n\n  computed: {\n    editorMode() {\n      return EDITOR_MODES.EDIT_CODE;\n    },\n\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    }\n  },\n\n  methods: {\n    generateYaml() {\n      const schemas = this.$store.getters['cluster/all'](SCHEMA);\n      const cloned = this.chartValues?.policy ? structuredClone(this.chartValues.policy) : this.value;\n\n      if ( this.yamlValues?.length ) {\n        this.currentYamlValues = this.yamlValues;\n      } else {\n        this.currentYamlValues = createYaml(schemas, this.value?.type, cloned);\n      }\n    },\n\n    async loadValuesComponent() {\n      if ( this.value?.haveComponent('kubewarden/admission') ) {\n        this.valuesComponent = this.value?.importComponent('kubewarden/admission');\n\n        await this.valuesComponent();\n      }\n    },\n\n    tabChanged() {\n      window.scrollTop = 0;\n    },\n\n    updateYamlValues() {\n      this.$emit('updateYamlValues', this.currentYamlValues);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else>\n    <div v-if=\"isCreate || isEdit\" class=\"step__values__controls\">\n      <ButtonGroup\n        v-model=\"yamlOption\"\n        data-testid=\"kw-policy-config-yaml-option\"\n        :options=\"YAML_OPTIONS\"\n        inactive-class=\"bg-disabled btn-sm\"\n        active-class=\"bg-primary btn-sm\"\n      />\n    </div>\n    <div class=\"scroll__container\">\n      <div class=\"scroll__content\">\n        <template v-if=\"showForm\">\n          <Tabbed\n            ref=\"tabs\"\n            :side-tabs=\"true\"\n            class=\"step__values__content\"\n            @changed=\"tabChanged($event)\"\n          >\n            <template v-if=\"valuesComponent\">\n              <component\n                :is=\"valuesComponent\"\n                v-model=\"chartValues\"\n                :mode=\"mode\"\n                :custom-policy=\"customPolicy\"\n              />\n            </template>\n          </Tabbed>\n        </template>\n        <template v-else-if=\"(isCreate || isEdit) && !showForm\">\n          <YamlEditor\n            ref=\"yaml\"\n            v-model=\"currentYamlValues\"\n            data-testid=\"kw-policy-config-yaml-editor\"\n            class=\"step__values__content\"\n            :scrolling=\"true\"\n            :initial-yaml-values=\"originalYamlValues\"\n            :editor-mode=\"editorMode\"\n            :hide-preview-buttons=\"true\"\n            @onChanges=\"updateYamlValues\"\n          />\n        </template>\n\n        <ResourceCancelModal\n          ref=\"cancelModal\"\n          data-testid=\"kw-policy-config-yaml-cancel\"\n          :is-cancel-modal=\"false\"\n          :is-form=\"true\"\n          @cancel-cancel=\"preYamlOption = yamlOption\"\n          @confirm-cancel=\"yamlOption = preYamlOption\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  $padding: 5px;\n\n  .step {\n    &__values {\n      &__controls {\n        display: flex;\n        margin-bottom: 15px;\n\n        & > *:not(:last-of-type) {\n          margin-right: $padding * 2;\n        }\n\n        &--spacer {\n          flex: 1\n        }\n\n      }\n\n      &__content {\n        flex: 1;\n\n        ::v-deep .tab-container {\n          overflow: auto;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Values.vue?vue&type=template&id=d467cb12&scoped=true&\"\nimport script from \"./Values.vue?vue&type=script&lang=js&\"\nexport * from \"./Values.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Values.vue?vue&type=style&index=0&id=d467cb12&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d467cb12\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isCreate)?_c('Create',{attrs:{\"value\":_vm.value,\"mode\":_vm.mode}}):_c('CruResource',{attrs:{\"errors\":_vm.errors,\"resource\":_vm.value,\"mode\":_vm.realMode,\"can-yaml\":false},on:{\"finish\":_vm.finish}},[_c('Config',{attrs:{\"value\":_vm.value,\"mode\":_vm.realMode},on:{\"updateYamlValues\":_vm.updateYamlValuesFromEdit}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport jsyaml from 'js-yaml';\nimport { _CREATE, _EDIT, _CLONE } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport CruResource from '@shell/components/CruResource';\nimport { removeEmptyAttrs } from '../utils/object';\nimport { handleGrowl } from '../utils/handle-growl';\n\nimport Config from '../components/Policies/Config';\nimport Create from '../components/Policies/Create';\n\nexport default {\n  name: 'ClusterAdmissionPolicy',\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    }\n  },\n\n  components: {\n    CruResource, Config, Create\n  },\n\n  mixins: [CreateEditView],\n\n  provide() {\n    return { chartType: this.value.type, realMode: this.realMode };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isClone() {\n      return this.realMode === _CLONE;\n    }\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        removeEmptyAttrs(this.value);\n\n        // remove metadata that identifies a CAP as a default policy, so that we can edit it later on the UI\n        // https://github.com/rancher/kubewarden-ui/issues/682\n        if (this.isClone && this.value.isKubewardenDefaultPolicy && this.value?.metadata?.labels?.['app.kubernetes.io/name'] === 'kubewarden-defaults') {\n          delete this.value?.metadata?.labels?.['app.kubernetes.io/name'];\n        }\n\n        await this.save(event);\n      } catch (e) {\n        handleGrowl({ error: e, store: this.$store });\n      }\n    },\n    // this updates the \"value\" obj for CAP's\n    // with the updated values that came from the \"edit YAML\" scenario\n    updateYamlValuesFromEdit(val) {\n      const parsed = jsyaml.load(val);\n\n      removeEmptyAttrs(parsed);\n      Object.assign(this.value, parsed);\n    }\n  }\n};\n</script>\n\n<template>\n  <Create v-if=\"isCreate\" :value=\"value\" :mode=\"mode\" />\n  <CruResource\n    v-else\n    :errors=\"errors\"\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    @finish=\"finish\"\n  >\n    <Config\n      :value=\"value\"\n      :mode=\"realMode\"\n      @updateYamlValues=\"updateYamlValuesFromEdit\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n::v-deep .cru__footer {\n  z-index: 1;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=template&id=1f3d98fa&scoped=true&\"\nimport script from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=style&index=0&id=1f3d98fa&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f3d98fa\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=style&index=0&id=1f3d98fa&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"37240f3f\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".content[data-v-29773f24]{position:relative;z-index:1}.banner__title[data-v-29773f24]{padding-top:10px;margin-bottom:10px;border-bottom:1px solid var(--border);min-height:60px}.banner__readme-button[data-v-29773f24]{padding:0 7px 0 0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyTable.vue?vue&type=style&index=0&id=73f021fc&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.admissionpolicy.vue?vue&type=style&index=0&id=50366f21&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"50123390\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=style&index=0&id=29773f24&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"795216f6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=style&index=0&id=1f3d98fa&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=style&index=0&id=29773f24&prod&lang=scss&scoped=true&\""],"sourceRoot":""}