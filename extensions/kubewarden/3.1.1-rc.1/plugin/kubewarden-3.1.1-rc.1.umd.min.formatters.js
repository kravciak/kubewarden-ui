(("undefined"!==typeof self?self:this)["webpackChunkkubewarden_3_1_1_rc_1"]=("undefined"!==typeof self?self:this)["webpackChunkkubewarden_3_1_1_rc_1"]||[]).push([[902],{11740:function(e,t,r){var o=r(54492);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("7c53273f",o,!0,{sourceMap:!1,shadowMode:!1})},17564:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var o=r(9274);function a(e,t,r,a,l,n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,(0,o.toDisplayString)(n.resources),1)}var l={props:{value:{type:Object,required:!0}},computed:{resources(){const e=this.value?.["kubewarden/resources"]?.split(",");if(Array.isArray(e)){if(e.length>1)return"Multiple";if(1===e.length)return"*"===e[0]?"Global":e[0]}}}},n=r(47433);const s=(0,n.A)(l,[["render",a]]);var c=s},24459:function(e,t,r){var o=r(33227);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("bc83afaa",o,!0,{sourceMap:!1,shadowMode:!1})},25347:function(e,t,r){var o=r(36707);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("cab55862",o,!0,{sourceMap:!1,shadowMode:!1})},25878:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var o=r(9274);const a={class:"deployment"},l={key:1},n={key:2,class:"conditions-alert-icon icon-error icon-lg"};function s(e,t,r,s,c,i){const u=(0,o.resolveComponent)("router-link"),d=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("span",a,[i.to?((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,to:i.to},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.value),1)])),_:1},8,["to"])):((0,o.openBlock)(),(0,o.createElementBlock)("span",l,(0,o.toDisplayString)(r.value),1)),i.hasErrors?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("i",n,null,512)),[[d,{content:`<div>${i.formattedConditions}</div>`,html:!0}]]):(0,o.createCommentVNode)("",!0)])}var c=r(3514),i=r.n(c),u=r(76978),d={props:{reference:{type:String,default:null},row:{type:Object,required:!0},value:{type:String,default:""}},async fetch(){this.deployment=await this.row.matchingDeployment()},data(){return{deployment:null}},computed:{hasErrors(){const e=this.flattenedConditions?.filter((e=>e.error));return!i()(e)},flattenedConditions(){return this.deployment?.flatMap((e=>e.status.conditions))},formattedConditions(){if(this.hasErrors){const e=this.flattenedConditions.filter((e=>e.error)),t=[];return e?.forEach((e=>{t.push(`<p><b>${[e.type]}</b>: ${e.message}</p>`)})),t.toString().replaceAll(",","")}return!1},to(){return this.row&&this.reference?(0,u.Jt)(this.row,this.reference):this.row?.detailLocation}}},p=(r(25347),r(47433));const f=(0,p.A)(d,[["render",s],["__scopeId","data-v-3dafc618"]]);var m=f},33227:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),l=r(40935),n=r.n(l),s=n()(a());s.push([e.id,".badge[data-v-80098216]{display:flex;flex-direction:row;justify-content:center;align-content:center}.badge__icon[data-v-80098216]{width:20px}",""]),t["default"]=s},36676:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),l=r(40935),n=r.n(l),s=n()(a());s.push([e.id,".pr-summary[data-v-e07f4d2e]{position:relative}.pr-summary__container[data-v-e07f4d2e]{display:flex;align-items:center;justify-content:flex-start;width:100%;height:30px}.pr-summary__container .badge[data-v-e07f4d2e]{padding:4px;margin:2px;border-radius:8px}.pr-summary__container .sizzle-warning-bg[data-v-e07f4d2e]{background-color:#614ea2;color:#fff}.pr-summary__content[data-v-e07f4d2e]{z-index:14;width:100%}.pr-summary__content>div[data-v-e07f4d2e]{padding:10px}.pr-summary__content .counts[data-v-e07f4d2e]{display:flex;justify-content:space-between}.pr-summary__content .text-warning[data-v-e07f4d2e]{color:var(--warning)!important}.pr-summary__content .text-darker[data-v-e07f4d2e]{color:var(--dark)!important}.pr-summary__content .sizzle-warning[data-v-e07f4d2e]{color:#614ea2}",""]),t["default"]=s},36700:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var o=r(9274);function a(e,t,r,a,l,n){const s=(0,o.resolveComponent)("BadgeState");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[n.stateDisplay?((0,o.openBlock)(),(0,o.createBlock)(s,{key:0,color:n.stateBackground,label:n.capitalizeMessage(n.stateDisplay)},null,8,["color","label"])):(0,o.createCommentVNode)("",!0)])}var l=r(3514),n=r.n(l),s=r(35664),c=r(87102),i=r(94493),u={components:{BadgeState:c.j},props:{value:{type:String,required:!0}},async fetch(){this.$store.getters["cluster/canList"](s.oU.DEPLOYMENT)&&await this.$store.dispatch("cluster/findAll",{type:s.oU.DEPLOYMENT})},computed:{allDeployments(){return this.$store.getters["cluster/all"](s.oU.DEPLOYMENT)},deployment(){return n()(this.allDeployments)?null:this.allDeployments.find((e=>e.spec.template.metadata.labels["kubewarden/policy-server"]===this.value))},stateBackground(){return`bg-${(0,i.R9)(this.stateDisplay)}`},stateDisplay(){return n()(this.deployment)?"pending":this.deployment.metadata?.state?.name}},methods:{capitalizeMessage(e){return e?.charAt(0).toUpperCase()+e?.slice(1)}}},d=r(47433);const p=(0,d.A)(u,[["render",a]]);var f=p},36707:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),l=r(40935),n=r.n(l),s=n()(a());s.push([e.id,".deployment[data-v-3dafc618]{display:flex;align-items:center}.conditions-alert-icon[data-v-3dafc618]{color:var(--error);margin-left:4px}[data-v-3dafc618] .labeled-tooltip{position:relative;display:inline;left:auto;right:auto;top:2px;bottom:auto}",""]),t["default"]=s},42692:function(e,t,r){var o=r(36676);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("5c39a128",o,!0,{sourceMap:!1,shadowMode:!1})},48319:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var o=r(9274),a=r(65359),l=r(3514),n=r.n(l),s=r(74302),c=r(50634);const i={key:0,"data-testid":"resource-tab-loading"},u={key:1,class:"pr-summary"},d={class:"pr-summary__container"},p={class:"pr-summary__content"},f={class:"text-right"},m={key:2};var v=(0,o.defineComponent)({__name:"PolicyReportSummary",props:{value:{}},setup(e){const t=(0,o.useAttrs)(),r=e,l=(0,a.Pj)(),v=(0,o.computed)((()=>l.getters["kubewarden/loadingReports"])),h=(0,o.computed)((()=>{const e=r.value?.id;return l.getters["kubewarden/summaryByResourceId"](e)})),y=(0,o.computed)((()=>{const e=h.value;if(!n()(e)){const t=Object.values(e).filter(Boolean);return t.length>0}return!1}));function g(e,t){const r={fail:1,pass:2,error:3,warning:4,skip:5,other:6};return e=e.replace(/^(text|bg|sizzle)-/,""),`${r[t]||r.other} ${t}`}const k=(0,o.computed)((()=>{const e={};for(const[t,r]of Object.entries(h.value)){const o=(0,c.q3)(t),a=o.includes("sizzle")?o:o.replace(/text-/,"bg-"),l=o.includes("sizzle")?o.concat("-bg"):o.replace(/text-/,"bg-"),n=`${o}/${t}`;e[n]={key:n,label:t.charAt(0).toUpperCase()+t.slice(1),color:a,bgColor:l,textColor:o,value:r,sort:g(o,t)}}return(0,s.Ul)(Object.values(e),"sort:desc","desc").reverse()}));return(e,a)=>{const l=(0,o.resolveComponent)("VDropdown"),n=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("div",(0,o.normalizeProps)((0,o.guardReactiveProps)((0,o.unref)(t))),[v.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,a[0]||(a[0]=[(0,o.createElementVNode)("i",{class:"icon icon-lg icon-spinner icon-spin"},null,-1)]))):y.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",u,[(0,o.createVNode)(l,{class:"text-center hand",placement:"top","open-group":r?.value?.id,trigger:"click",offset:"1"},{popper:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(k.value,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e.key,class:"counts"},[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["text-left pr-20",{[e.textColor]:!0}])},(0,o.toDisplayString)(e.label),3),(0,o.createElementVNode)("span",f,(0,o.toDisplayString)(e.value),1)])))),128))])])])),default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",d,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(k.value,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:`${e.key}-badge`},[e.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)(["badge",{[e.bgColor]:!0}])},[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)(e.value),1)])),[[n,e.label]])],2)):(0,o.createCommentVNode)("",!0)])))),128))])])),_:1},8,["open-group"])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",m,"-"))],16)}}}),h=(r(42692),r(47433));const y=(0,h.A)(v,[["__scopeId","data-v-e07f4d2e"]]);var g=y},54418:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var o=r(9274);function a(e,t,r,a,l,n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,(0,o.toDisplayString)(n.features),1)}var l={props:{value:{type:Object,required:!0}},computed:{features(){const e=[];return"true"===this.value?.["kubewarden/mutation"]&&e.push("Mutation"),this.value?.["kubewarden/contextAwareResources"]&&e.push("Context Aware"),e.length?e.join(", "):void 0}}},n=r(47433);const s=(0,n.A)(l,[["render",a]]);var c=s},54492:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),l=r(40935),n=r.n(l),s=n()(a());s.push([e.id,".progress[data-v-f3ae1ea4]{display:block;border-radius:90px;background-color:var(--progress-bg);height:10px;width:100px}.progress .piece[data-v-f3ae1ea4]{display:inline-block;height:10px;border-radius:0;border-right:1px solid var(--progress-divider);vertical-align:top}.progress .piece[data-v-f3ae1ea4]:first-child{border-top-left-radius:90px;border-bottom-left-radius:90px}.progress .piece[data-v-f3ae1ea4]:last-child{border-top-right-radius:90px;border-bottom-right-radius:90px;border-right:0}.piece.bg-success[data-v-f3ae1ea4]:only-child{opacity:.5}",""]),t["default"]=s},58999:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var o=r(9274);const a={class:"column-content"},l={key:1},n={key:0,class:"fixed"},s={class:"text-right"},c={key:1,class:"text-center text-muted"};function i(e,t,r,i,u,d){const p=(0,o.resolveComponent)("ProgressBarMulti"),f=(0,o.resolveComponent)("router-link"),m=(0,o.resolveComponent)("VDropdown");return d.show?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,class:"text-center hand",placement:"top","open-group":r.row.id,trigger:d.show?"click":"manual",offset:"1"},{popper:(0,o.withCtx)((()=>[d.show?((0,o.openBlock)(),(0,o.createElementBlock)("table",n,[(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.stateParts,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.key},[(0,o.createElementVNode)("td",{class:(0,o.normalizeClass)(["text-left pr-20",{[e.textColor]:!0}])},(0,o.toDisplayString)(e.label),3),(0,o.createElementVNode)("td",s,(0,o.toDisplayString)(e.value),1)])))),128))])])):(0,o.createCommentVNode)("",!0)])),default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",a,[(0,o.createVNode)(p,{values:d.colorParts,class:"mb-5"},null,8,["values"]),r.linkTo?((0,o.openBlock)(),(0,o.createBlock)(f,{key:0,to:r.linkTo},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(d.displayLabel),1)])),_:1},8,["to"])):((0,o.openBlock)(),(0,o.createElementBlock)("span",l,(0,o.toDisplayString)(d.displayLabel),1))])])),_:1},8,["open-group","trigger"])):((0,o.openBlock)(),(0,o.createElementBlock)("div",c," — "))}var u=r(74302);const d=["aria-label"];function p(e,t,r,a,l,n){const s=(0,o.resolveDirective)("trim-whitespace");return(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)({progress:!0,multi:n.pieces.length>1}),"aria-label":n.ariaLabelText},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.pieces,((e,t)=>(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t,class:(0,o.normalizeClass)({piece:!0,[e.color]:!0}),style:(0,o.normalizeStyle)(e.style)},null,6)),[[s]]))),128))],10,d)),[[s]])}var f=r(76978),m={props:{values:{type:Array,required:!0},colorKey:{type:String,default:"color"},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},min:{type:Number,default:0},max:{type:Number,default:null},minPercent:{type:Number,default:5},showZeros:{type:Boolean,default:!1}},computed:{pieces(){const e=[];for(const l of this.values){const t=(0,f.Jt)(l,this.colorKey),r=(0,f.Jt)(l,this.labelKey),o=(0,f.Jt)(l,this.valueKey);(0!==o||this.showZeros)&&e.push({color:t,label:r,value:o})}const t=this.minPercent||0,r=this.min||0;let o=this.max,a=0;this.max||(o=100,e.length&&(o=e.map((e=>e.value)).reduce(((e,t)=>e+t))));for(const l of e){const e=Math.max(t,v(l.value,r,o));l.percent=e,a+=e}a>100&&((0,u.Ul)(e,"percent",!0)[0].percent-=a-100);for(const l of e)l.style=`width: ${l.percent}%`;return e.filter((e=>e.percent))},ariaLabelText(){if(Array.isArray(this.values)&&this.values.length){let e="";return this.values.forEach((t=>{e+=`${t.value} ${1===t.value?"item":"items"} ${t.label}`})),e}return""}}};function v(e,t,r){e=Math.max(t,Math.min(r,e));let o=e/(r-t)*100;return o=Math.floor(100*o)/100,o}r(11740);var h=r(47433);const y=(0,h.A)(m,[["render",p],["__scopeId","data-v-f3ae1ea4"]]);var g=y,k=r(94493),b={components:{ProgressBarMulti:g},props:{row:{type:Object,required:!0},label:{type:String,default:null},linkTo:{type:Object,default:null}},async fetch(){this.relatedPolicies=await this.row.allRelatedPolicies()},data(){return{relatedPolicies:[]}},computed:{show(){return this.stateParts.length>0},stateParts(){const e={};for(const t of this.relatedPolicies){const r=t?.status?.policyStatus,o=(0,k.VM)(r),a=`${o}/${r}`;e[a]?e[a].value+=1:e[a]={key:a,label:r,color:o.replace(/text-/,"bg-"),textColor:o,value:1,sort:(0,k.gs)(o,r)}}return(0,u.Ul)(Object.values(e),"sort:desc")},colorParts(){const e={};for(const t of this.stateParts)e[t.color]?e[t.color].value+=1:e[t.color]={color:t.color,value:t.value,sort:t.sort};return(0,u.Ul)(Object.values(e),"sort:desc")},displayLabel(){const e=this.relatedPolicies.length||0;return this.label?`${this.label}, ${e}`:`${e}`}}};r(70519);const B=(0,h.A)(b,[["render",i]]);var w=B},59821:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var o=r(9274);function a(e,t,r,a,l,n){const s=(0,o.resolveComponent)("BadgeState");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[r.value?((0,o.openBlock)(),(0,o.createBlock)(s,{key:0,color:n.modeColor,label:n.capitalizedMode},null,8,["color","label"])):(0,o.createCommentVNode)("",!0)])}var l=r(87102),n=r(79442),s={components:{BadgeState:l.j},props:{value:{type:String,default:""}},data(){return{MODE_MAP:n.lN}},computed:{capitalizedMode(){return this.value?.charAt(0).toUpperCase()+this.value?.slice(1)},modeColor(){return this.MODE_MAP[this.value]}}},c=r(47433);const i=(0,c.A)(s,[["render",a]]);var u=i},62083:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var o=r(9274),a=r(10375);const l={class:"badge"},n={key:0,class:"badge__signed"},s={key:1,class:"badge__icon"},c=["alt"];function i(e,t,r,i,u,d){const p=(0,o.resolveDirective)("clean-tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[r.row.signed?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",null,t[0]||(t[0]=[(0,o.createElementVNode)("i",{class:"icon icon-lock"},null,-1)]))),[[p,e.t("kubewarden.policyCharts.signedPolicy.tooltip",{signatures:d.subtypeSignature})]])])):(0,o.createCommentVNode)("",!0),d.isOfficial?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.withDirectives)((0,o.createElementVNode)("img",{src:a,alt:e.t("kubewarden.policies.official"),class:"ml-5"},null,8,c),[[p,e.t("kubewarden.policies.official")]])])):(0,o.createCommentVNode)("",!0)])}var u=r(79442),d={props:{row:{type:Object,required:!0}},computed:{isOfficial(){return this.row?.repository?.organization_name?.toLowerCase()===u.bp},subtypeSignature(){return this.row?.signatures?.[0]||"unknown"}}},p=(r(24459),r(47433));const f=(0,p.A)(d,[["render",i],["__scopeId","data-v-80098216"]]);var m=f},70519:function(e,t,r){var o=r(72951);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=r(74825).A;a("e0409a8e",o,!0,{sourceMap:!1,shadowMode:!1})},72951:function(e,t,r){"use strict";r.r(t);var o=r(36758),a=r.n(o),l=r(40935),n=r.n(l),s=n()(a());s.push([e.id,".column-content{width:100px}",""]),t["default"]=s},75331:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var o=r(9274);function a(e,t,r,a,l,n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.resourceLabels,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:t},(0,o.toDisplayString)(e),1)))),128))])}var l={props:{col:{type:Object,default:()=>{}},value:{type:Array,default:()=>[]}},fetch(){if(this.value){const e=this.value.flatMap((e=>e[this.col.name]));e&&(this.resourceToShow=[...new Set(e)])}},data(){return{resourceToShow:null}},computed:{resourceLabels(){if(this.resourceToShow.length>1){const e=[],t=this.resourceToShow[this.resourceToShow.length-1];return this.resourceToShow.forEach((r=>{r===t?e.push(r):e.push(`${r}, `)})),e}return this.resourceToShow}}},n=r(47433);const s=(0,n.A)(l,[["render",a]]);var c=s}}]);
//# sourceMappingURL=kubewarden-3.1.1-rc.1.umd.min.formatters.js.map