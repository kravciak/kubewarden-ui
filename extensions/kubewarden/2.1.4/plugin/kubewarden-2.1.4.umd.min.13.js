(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_2_1_4"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_2_1_4"]||[]).push([[13],{3226:function(e,t,a){"use strict";a("3d95")},"3d95":function(e,t,a){var r=a("8fae");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("2e560936",r,!0,{sourceMap:!1,shadowMode:!1})},8564:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading",{attrs:{mode:"relative"}}):t("div",{staticClass:"pr-tab__container"},[[t("SortableTable",{attrs:{rows:e.reports,headers:e.tableHeaders,"table-actions":!1,"row-actions":!1,"key-field":"uid","group-by":e.isNamespaceResource?"kind":null,"sub-expandable":!0,"sub-expand-column":!0,"sub-rows":!0,paging:!0,"rows-per-page":25,"extra-search-fields":["summary"],"default-sort-by":"status"},scopedSlots:e._u([e.isNamespaceResource?{key:"col:kind",fn:function({row:a}){return[t("td",[e._v(e._s(e.getResourceValue(a,"kind",!0)))])]}}:null,e.isNamespaceResource?{key:"col:name",fn:function({row:a}){return[t("td",[e.canGetResourceLink(a)?[t("n-link",{attrs:{to:e.getResourceLink(a)}},[t("span",[e._v(e._s(e.getResourceValue(a,"name",!0)))])])]:[t("span",[e._v(e._s(e.getResourceValue(a,"name",!0)))])]],2)]}}:null,{key:"col:policy",fn:function({row:a}){return[a.policy&&a.policyName?t("td",[e.canGetKubewardenLinks?[t("n-link",{attrs:{to:e.getPolicyLink(a)}},[t("span",[e._v(e._s(a.policyName))])])]:[t("span",[e._v(e._s(a.policyName))])]],2):e._e()]}},{key:"col:severity",fn:function({row:a}){return[t("td",[t("BadgeState",{attrs:{label:e.getResourceValue(a,"severity"),color:e.severityColor(a)}})],1)]}},{key:"col:status",fn:function({row:a}){return[t("td",[t("BadgeState",{attrs:{label:e.getResourceValue(a,"result"),color:e.statusColor(a)}})],1)]}},{key:"sub-row",fn:function({row:a,fullColspan:r}){return[t("td",{staticClass:"pr-tab__sub-row",attrs:{colspan:r}},[a.message?t("Banner",{staticClass:"message",attrs:{color:"info"}},[t("span",{staticClass:"text-muted"},[e._v(e._s(e.t("kubewarden.policyReporter.headers.policyReportsTab.message.title"))+":")]),t("span",[e._v(e._s(a.message))])]):e._e(),t("div",{staticClass:"details"},[t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.t("kubewarden.policyReporter.headers.policyReportsTab.properties.mutating"))+" ")]),t("span",[e._v(" "+e._s(a.properties["mutating"]||"-")+" ")])]),t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.t("kubewarden.policyReporter.headers.policyReportsTab.properties.validating"))+" ")]),t("span",[e._v(" "+e._s(a.properties["validating"]||"-")+" ")])])])],1)]}}],null,!0)})]],2)},s=[],o=a("330a"),i=a.n(o),n=a("da25"),l=a("a8b9"),c=a("2359"),u=a("f17a"),d=a("6418"),p=a("15ca"),v=a("0fb1"),b=a("90cd"),f=a("5191"),_=a("ad2f"),m=a("ed89"),g=a("df4c"),h={components:{BadgeState:u["a"],Banner:d["a"],Loading:p["a"],SortableTable:v["a"]},mixins:[c["a"]],async fetch(){this.determineResource();const e=await Object(_["c"])(this.$store,this.resource);if(this.reports=e||[],!i()(this.reports)){const e=[this.$fetchType(b["f"].ADMISSION_POLICY),this.$fetchType(b["f"].CLUSTER_ADMISSION_POLICY)];await Object(l["a"])(e)}},data(){return{colorForResult:_["a"],reports:[],resource:null,resourceHeaders:f["c"].RESOURCE,namespaceHeaders:f["c"].NAMESPACE}},computed:{canGetKubewardenLinks(){const e=this.$store.getters["cluster/schemaFor"](b["f"].CLUSTER_ADMISSION_POLICY),t=this.$store.getters["cluster/schemaFor"](b["f"].ADMISSION_POLICY);return!(!e&&!t)},hasNamespace(){var e;return null===(e=this.resource)||void 0===e||null===(e=e.metadata)||void 0===e?void 0:e.namespace},hasReports(){return!i()(this.reports)},isNamespaceResource(){var e;return(null===(e=this.resource)||void 0===e?void 0:e.type)===n["g"]},tableHeaders(){return this.isNamespaceResource?this.namespaceHeaders:this.resourceHeaders}},methods:{canGetResourceLink(e){var t,a;const r=e.scope;if((null===(t=this.resource)||void 0===t?void 0:t.type)===n["g"]&&(null===(a=r.kind)||void 0===a?void 0:a.toLowerCase())===n["g"])return null;if(r){const e=Object.values(g).find(e=>r.kind===e.attributes.kind);var s;if(e)return this.$store.getters["cluster/schemaFor"](null===(s=r.kind)||void 0===s?void 0:s.toLowerCase());const t=Object(m["e"])(r);if(t)return this.$store.getters["cluster/schemaFor"](t)}return null},determineResource(){var e,t;const a=this.$route;if(null!==a&&void 0!==a&&null!==(e=a.params)&&void 0!==e&&e.resource&&null!==a&&void 0!==a&&null!==(t=a.params)&&void 0!==t&&t.id){const e=null!==a&&void 0!==a&&a.params.namespace?`${null===a||void 0===a?void 0:a.params.namespace}/${null===a||void 0===a?void 0:a.params.id}`:null===a||void 0===a?void 0:a.params.id;this.resource=this.$store.getters["cluster/byId"](null===a||void 0===a?void 0:a.params.resource,e)}},getResourceValue(e,t,a=!1){var r;return this.isNamespaceResource&&a?(null===(r=e.scope)||void 0===r?void 0:r[t])||"-":i()(e)?"-":e[t]||"-"},getPolicyLink(e){return Object(_["e"])(this.$store,e)},getResourceLink(e){return Object(_["f"])(e)},severityColor(e){return e.result?Object(_["b"])(e.severity):"bg-muted"},statusColor(e){if(e.result){const t=Object(_["a"])(e.result),a=t.includes("sizzle")?t.concat("-bg"):t.replace(/text-/,"bg-");return a}return"bg-muted"}}},y=h,w=(a("3226"),a("d802")),k=Object(w["a"])(y,r,s,!1,null,"7a476726",null);t["default"]=k.exports},"8fae":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,".pr-tab__container .sizzle-warning-bg[data-v-7a476726]{background-color:#614ea2;color:#fff}.pr-tab__container .text-warning[data-v-7a476726]{color:var(--warning)!important}.pr-tab__container .text-darker[data-v-7a476726]{color:var(--dark)!important}.pr-tab__container .sizzle-warning[data-v-7a476726]{color:#614ea2}.pr-tab__sub-row[data-v-7a476726]{background-color:var(--body-bg);border-bottom:1px solid var(--sortable-table-top-divider);padding-left:1rem;padding-right:1rem}.pr-tab__sub-row .message[data-v-7a476726]{display:flex;flex-direction:column}.pr-tab__sub-row .details[data-v-7a476726]{display:flex;flex-direction:row}.pr-tab__sub-row .details .col[data-v-7a476726]{display:flex;flex-direction:column}.pr-tab__sub-row .details .col section[data-v-7a476726]{margin-bottom:1.5rem}.pr-tab__sub-row .details .col .title[data-v-7a476726]{color:var(--muted);margin-bottom:.5rem}",""]),e.exports=t}}]);
//# sourceMappingURL=kubewarden-2.1.4.umd.min.13.js.map