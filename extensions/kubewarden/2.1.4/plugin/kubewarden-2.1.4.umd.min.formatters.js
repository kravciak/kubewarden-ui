(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_2_1_4"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_2_1_4"]||[]).push([[5],{"0448":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,".progress[data-v-abc33690]{display:block;border-radius:90px;background-color:var(--progress-bg);height:10px;width:100px}.progress .piece[data-v-abc33690]{display:inline-block;height:10px;border-radius:0;border-right:1px solid var(--progress-divider);vertical-align:top}.progress .piece[data-v-abc33690]:first-child{border-top-left-radius:90px;border-bottom-left-radius:90px}.progress .piece[data-v-abc33690]:last-child{border-top-right-radius:90px;border-bottom-right-radius:90px;border-right:0}.piece.bg-success[data-v-abc33690]:only-child{opacity:.5}",""]),e.exports=t},"0cf2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return e.show?t("v-popover",{staticClass:"text-center hand",attrs:{placement:"top","open-group":e.row.id,trigger:e.show?"click":"manual",offset:"1"},scopedSlots:e._u([{key:"popover",fn:function(){return[e.show?t("table",{staticClass:"fixed"},[t("tbody",e._l(e.stateParts,(function(a){return t("tr",{key:a.key},[t("td",{staticClass:"text-left pr-20",class:{[a.textColor]:!0}},[e._v(" "+e._s(a.label)+" ")]),t("td",{staticClass:"text-right"},[e._v(" "+e._s(a.value)+" ")])])})),0)]):e._e()]},proxy:!0}],null,!1,3622895006)},[t("ProgressBarMulti",{staticClass:"mb-5",attrs:{values:e.colorParts}}),e.linkTo?t("n-link",{attrs:{to:e.linkTo}},[e._v(" "+e._s(e.displayLabel)+" ")]):t("span",[e._v(e._s(e.displayLabel))])],1):t("div",{staticClass:"text-center text-muted"},[e._v(" â€” ")])},s=[],o=a("1d19"),l=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],class:{progress:!0,multi:e.pieces.length>1}},e._l(e.pieces,(function(e,a){return t("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],key:a,class:{piece:!0,[e.color]:!0},style:e.style})})),0)},i=[],n=a("e24b"),c={props:{values:{type:Array,required:!0},colorKey:{type:String,default:"color"},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},min:{type:Number,default:0},max:{type:Number,default:null},minPercent:{type:Number,default:5},showZeros:{type:Boolean,default:!1}},computed:{pieces(){const e=[];for(const o of this.values){const t=Object(n["h"])(o,this.colorKey),a=Object(n["h"])(o,this.labelKey),r=Object(n["h"])(o,this.valueKey);(0!==r||this.showZeros)&&e.push({color:t,label:a,value:r})}const t=this.minPercent||0,a=this.min||0;let r=this.max,s=0;this.max||(r=100,e.length&&(r=e.map(e=>e.value).reduce((e,t)=>e+t)));for(const o of e){const e=Math.max(t,u(o.value,a,r));o.percent=e,s+=e}s>100&&(Object(o["a"])(e,"percent",!0)[0].percent-=s-100);for(const o of e)o.style=`width: ${o.percent}%`;return e.filter(e=>e.percent)}}};function u(e,t,a){e=Math.max(t,Math.min(a,e));let r=e/(a-t)*100;return r=Math.floor(100*r)/100,r}var d=c,p=(a("bd92"),a("d802")),v=Object(p["a"])(d,l,i,!1,null,"abc33690",null),f=v.exports,h=a("d892"),b={components:{ProgressBarMulti:f},props:{row:{type:Object,required:!0},label:{type:String,default:null},linkTo:{type:Object,default:null}},async fetch(){this.relatedPolicies=await this.row.allRelatedPolicies()},data(){return{relatedPolicies:[]}},computed:{show(){return this.stateParts.length>0},stateParts(){const e={};for(const a of this.relatedPolicies){var t;const r=null===a||void 0===a||null===(t=a.status)||void 0===t?void 0:t.policyStatus,s=Object(h["b"])(r),o=`${s}/${r}`;e[o]?e[o].value+=1:e[o]={key:o,label:r,color:s.replace(/text-/,"bg-"),textColor:s,value:1,sort:Object(h["f"])(s,r)}}return Object(o["a"])(Object.values(e),"sort:desc")},colorParts(){const e={};for(const t of this.stateParts)e[t.color]?e[t.color].value+=1:e[t.color]={color:t.color,value:t.value,sort:t.sort};return Object(o["a"])(Object.values(e),"sort:desc")},displayLabel(){const e=this.relatedPolicies.length||0;return this.label?`${this.label}, ${e}`:""+e}}},m=b,y=(a("fe75"),Object(p["a"])(m,r,s,!1,null,null,null));t["default"]=y.exports},1006:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,".col-scale{position:relative}.col-scale .trigger{width:100%}.scale{margin:0;padding:0;line-height:normal}",""]),e.exports=t},"1a9e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[e._v(" "+e._s(e.resources)+" ")])},s=[],o={props:{value:{type:Object,required:!0}},computed:{resources(){var e;const t=null===(e=this.value)||void 0===e||null===(e=e["kubewarden/resources"])||void 0===e?void 0:e.split(",");if(Array.isArray(t)){if(t.length>1)return"Multiple";if(1===t.length)return"*"===t[0]?"Global":t[0]}}}},l=o,i=a("d802"),n=Object(i["a"])(l,r,s,!1,null,null,null);t["default"]=n.exports},"1eb4":function(e,t,a){"use strict";a("8cdd")},2164:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",e._l(e.resourceLabels,(function(a,r){return t("span",{key:r},[e._v(" "+e._s(a)+" ")])})),0)},s=[],o={props:{col:{type:Object,default:()=>{}},value:{type:Array,default:()=>[]}},fetch(){if(this.value){const e=this.value.flatMap(e=>e[this.col.name]);e&&(this.resourceToShow=[...new Set(e)])}},data(){return{resourceToShow:null}},computed:{resourceLabels(){if(this.resourceToShow.length>1){const e=[],t=this.resourceToShow[this.resourceToShow.length-1];return this.resourceToShow.forEach(a=>{a===t?e.push(a):e.push(a+", ")}),e}return this.resourceToShow}}},l=o,i=a("d802"),n=Object(i["a"])(l,r,s,!1,null,null,null);t["default"]=n.exports},2778:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return e.canShow?t("div",{staticClass:"pr-summary"},[t("v-popover",{staticClass:"text-center hand",attrs:{placement:"top","open-group":e.value.id,trigger:"click",offset:"1"},scopedSlots:e._u([{key:"popover",fn:function(){return[t("div",{staticClass:"pr-summary__content"},[t("div",e._l(e.summaryParts,(function(a){return t("div",{key:a.key,staticClass:"counts"},[t("span",{staticClass:"text-left pr-20",class:{[a.textColor]:!0}},[e._v(" "+e._s(a.label)+" ")]),t("span",{staticClass:"text-right"},[e._v(" "+e._s(a.value)+" ")])])})),0)])]},proxy:!0}],null,!1,3136338994)},[[t("div",{staticClass:"pr-summary__container"},e._l(e.summaryParts,(function(a){return t("div",{key:a.key+"-badge"},[a.value?t("div",{staticClass:"badge",class:{[a.bgColor]:!0}},[t("span",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:a.label,expression:"obj.label"}]},[e._v(e._s(a.value))])]):e._e()])})),0)]],2)],1):t("div")},s=[],o=a("330a"),l=a.n(o),i=a("1d19"),n=a("ad2f"),c={props:{value:{type:Object,default:()=>{}}},computed:{canShow(){if(!l()(this.summary)){const e=[];for(const t of Object.keys(this.summary))this.summary[t]&&e.push(this.summary[t]);return!!e.length}return!1},colorParts(){const e={};for(const t of this.summaryParts)e[t.color]={color:t.color,label:t.label,value:t.value};return Object(i["a"])(Object.values(e),"sort:desc").reverse()},summary(){return Object(n["d"])(this.$store,this.value)},summaryParts(){const e={};for(const[t,a]of Object.entries(this.summary)){const r=Object(n["a"])(t),s=r.includes("sizzle")?r:r.replace(/text-/,"bg-"),o=r.includes("sizzle")?r.concat("-bg"):r.replace(/text-/,"bg-"),l=`${r}/${t}`;e[l]={key:l,label:t.charAt(0).toUpperCase()+t.slice(1),color:s,bgColor:o,textColor:r,value:a,sort:this.policySummarySort(r,t)}}return Object(i["a"])(Object.values(e),"sort:desc").reverse()}},methods:{policySummarySort(e,t){const a={fail:1,pass:2,error:3,warning:4,skip:5,other:6};return e=e.replace(/^(text|bg|sizzle)-/,""),`${a[t]||a["other"]} ${t}`}}},u=c,d=(a("1eb4"),a("d802")),p=Object(d["a"])(u,r,s,!1,null,"80bba75c",null);t["default"]=p.exports},"301c":function(e,t,a){var r=a("0448");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("455a1fa6",r,!0,{sourceMap:!1,shadowMode:!1})},"312b":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,".deployment[data-v-2a8202a5]{display:flex;align-items:center}.conditions-alert-icon[data-v-2a8202a5]{color:var(--error);margin-left:4px}[data-v-2a8202a5] .labeled-tooltip,[data-v-2a8202a5] .status-icon{position:relative;display:inline;left:auto;right:auto;top:2px;bottom:auto}",""]),e.exports=t},"3e3e":function(e,t,a){"use strict";a("e906")},4509:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[e.value?t("BadgeState",{attrs:{color:e.modeColor,label:e.capitalizedMode}}):e._e()],1)},s=[],o=a("f17a"),l=a("90cd"),i={components:{BadgeState:o["a"]},props:{value:{type:String,default:""}},data(){return{MODE_MAP:l["o"]}},computed:{capitalizedMode(){var e,t;return(null===(e=this.value)||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===(t=this.value)||void 0===t?void 0:t.slice(1))},modeColor(){return this.MODE_MAP[this.value]}}},n=i,c=a("d802"),u=Object(c["a"])(n,r,s,!1,null,null,null);t["default"]=u.exports},"58f7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("span",{staticClass:"deployment"},[e.to?t("n-link",{attrs:{to:e.to}},[e._v(" "+e._s(e.value)+" ")]):t("span",[e._v(e._s(e.value))]),e.hasErrors?t("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:{content:`<div>${e.formattedConditions}</div>`,html:!0},expression:"{ content: `<div>${ formattedConditions }</div>`, html: true }"}],staticClass:"conditions-alert-icon icon-error icon-lg"}):e._e()],1)},s=[],o=a("330a"),l=a.n(o),i=a("e24b"),n={props:{reference:{type:String,default:null},row:{type:Object,required:!0},value:{type:String,default:""}},async fetch(){this.deployment=await this.row.matchingDeployment()},data(){return{deployment:null}},computed:{hasErrors(){var e;const t=null===(e=this.flattenedConditions)||void 0===e?void 0:e.filter(e=>e.error);return!l()(t)},flattenedConditions(){var e;return null===(e=this.deployment)||void 0===e?void 0:e.flatMap(e=>e.status.conditions)},formattedConditions(){if(this.hasErrors){const e=this.flattenedConditions.filter(e=>e.error),t=[];return null===e||void 0===e||e.forEach(e=>{t.push(`<p><b>${[e.type]}</b>: ${e.message}</p>`)}),t.toString().replaceAll(",","")}return!1},to(){var e;return this.row&&this.reference?Object(i["h"])(this.row,this.reference):null===(e=this.row)||void 0===e?void 0:e.detailLocation}}},c=n,u=(a("3e3e"),a("d802")),d=Object(u["a"])(c,r,s,!1,null,"2a8202a5",null);t["default"]=d.exports},"7c03":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[e._v(" "+e._s(e.features)+" ")])},s=[],o={props:{value:{type:Object,required:!0}},computed:{features(){var e,t;const a=[];return"true"===(null===(e=this.value)||void 0===e?void 0:e["kubewarden/mutation"])&&a.push("Mutation"),null!==(t=this.value)&&void 0!==t&&t["kubewarden/contextAwareResources"]&&a.push("Context Aware"),a.length?a.join(", "):void 0}}},l=o,i=a("d802"),n=Object(i["a"])(l,r,s,!1,null,null,null);t["default"]=n.exports},"85d3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[e.stateDisplay?t("BadgeState",{attrs:{color:e.stateBackground,label:e.capitalizeMessage(e.stateDisplay)}}):e._e()],1)},s=[],o=a("330a"),l=a.n(o),i=a("907c"),n=a("f17a"),c=a("d892"),u={components:{BadgeState:n["a"]},props:{value:{type:String,required:!0}},async fetch(){this.$store.getters["cluster/canList"](i["H"].DEPLOYMENT)&&await this.$store.dispatch("cluster/findAll",{type:i["H"].DEPLOYMENT})},computed:{allDeployments(){return this.$store.getters["cluster/all"](i["H"].DEPLOYMENT)},deployment(){return l()(this.allDeployments)?null:this.allDeployments.find(e=>e.spec.template.metadata.labels["kubewarden/policy-server"]===this.value)},stateBackground(){return"bg-"+Object(c["a"])(this.stateDisplay)},stateDisplay(){var e;return l()(this.deployment)?"pending":null===(e=this.deployment.metadata)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.name}},methods:{capitalizeMessage(e){return(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))}}},d=u,p=a("d802"),v=Object(p["a"])(d,r,s,!1,null,null,null);t["default"]=v.exports},"8ca0":function(e,t,a){"use strict";a("b705")},"8cdd":function(e,t,a){var r=a("d15b");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("4e2310ba",r,!0,{sourceMap:!1,shadowMode:!1})},af3a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"badge"},[e.row.signed?t("div",{staticClass:"badge__signed"},[t("span",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.t("kubewarden.policyCharts.signedPolicy.tooltip",{signatures:e.subtypeSignature}),expression:"t('kubewarden.policyCharts.signedPolicy.tooltip', { signatures: subtypeSignature })"}]},[t("i",{staticClass:"icon icon-lock"})])]):e._e(),e.isOfficial?t("div",{staticClass:"badge__icon"},[t("img",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.t("kubewarden.policies.official"),expression:"t('kubewarden.policies.official')"}],staticClass:"ml-5",attrs:{src:a("c3ec"),alt:e.t("kubewarden.policies.official")}})]):e._e()])},s=[],o=a("90cd"),l={props:{row:{type:Object,required:!0}},computed:{isOfficial(){var e;return(null===(e=this.row)||void 0===e||null===(e=e.repository)||void 0===e||null===(e=e.organization_name)||void 0===e?void 0:e.toLowerCase())===o["k"]},subtypeSignature(){var e;return(null===(e=this.row)||void 0===e||null===(e=e.signatures)||void 0===e?void 0:e[0])||"unknown"}}},i=l,n=(a("8ca0"),a("d802")),c=Object(n["a"])(i,r,s,!1,null,"27742bc9",null);t["default"]=c.exports},b705:function(e,t,a){var r=a("f666");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("e10729f4",r,!0,{sourceMap:!1,shadowMode:!1})},bd92:function(e,t,a){"use strict";a("301c")},c982:function(e,t,a){var r=a("1006");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("537773a6",r,!0,{sourceMap:!1,shadowMode:!1})},d15b:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,".pr-summary[data-v-80bba75c]{position:relative}.pr-summary__container[data-v-80bba75c]{display:flex;align-items:center;justify-content:flex-start;width:100%;height:30px}.pr-summary__container .badge[data-v-80bba75c]{padding:4px;margin:2px;border-radius:8px}.pr-summary__container .sizzle-warning-bg[data-v-80bba75c]{background-color:#614ea2;color:#fff}.pr-summary__content[data-v-80bba75c]{z-index:14;width:100%}.pr-summary__content>div[data-v-80bba75c]{padding:10px}.pr-summary__content .counts[data-v-80bba75c]{display:flex;justify-content:space-between}.pr-summary__content .text-warning[data-v-80bba75c]{color:var(--warning)!important}.pr-summary__content .text-darker[data-v-80bba75c]{color:var(--dark)!important}.pr-summary__content .sizzle-warning[data-v-80bba75c]{color:#614ea2}",""]),e.exports=t},e906:function(e,t,a){var r=a("312b");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("251a9499",r,!0,{sourceMap:!1,shadowMode:!1})},f666:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,".badge[data-v-27742bc9]{display:flex;flex-direction:row;justify-content:center;align-content:center}.badge__icon[data-v-27742bc9]{width:20px}",""]),e.exports=t},fe75:function(e,t,a){"use strict";a("c982")}}]);
//# sourceMappingURL=kubewarden-2.1.4.umd.min.formatters.js.map